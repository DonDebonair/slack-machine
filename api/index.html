
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../plugins/misc/">
      
      
        <link rel="next" href="../migrating/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.45">
    
    
      
        <title>API Documentation - Slack Machine</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Quicksand:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Quicksand";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Slack Machine" class="md-header__button md-logo" aria-label="Slack Machine" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Slack Machine
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Documentation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="purple" data-md-color-accent="purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/DonDebonair/slack-machine" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    DonDebonair/slack-machine
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Slack Machine" class="md-nav__button md-logo" aria-label="Slack Machine" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Slack Machine
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DonDebonair/slack-machine" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    DonDebonair/slack-machine
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slack Machine
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../user/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../user/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../user/usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Slack Machine
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugin Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/listening/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Listening for things
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/slash-commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slash Commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/interacting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to interact
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/block-kit-actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Kit actions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/modals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugin Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/misc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Miscellaneous stuff
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    API Documentation
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    API Documentation
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#plugin-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Plugin classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Plugin classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MachineBasePlugin
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" MachineBasePlugin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.users" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;users
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.users_by_email" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;users_by_email
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.channels" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;channels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.web_client" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;web_client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.bot_info" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;bot_info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.init" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;init
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.find_channel_by_name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;find_channel_by_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.get_user_by_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_user_by_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.get_user_by_email" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_user_by_email
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.at" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.say" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;say
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.say_scheduled" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;say_scheduled
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.update" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.delete" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.react" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;react
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.send_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_dm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.send_dm_scheduled" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_dm_scheduled
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.open_im" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;open_im
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.emit" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;emit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.pin_message" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pin_message
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.unpin_message" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;unpin_message
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.set_topic" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_topic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.open_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;open_modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.push_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;push_modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.update_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.publish_home_tab" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;publish_home_tab
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Message
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Message">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.sender" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;sender
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.channel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;channel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.is_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;is_dm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.text" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.at_sender" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;at_sender
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.ts" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.in_thread" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;in_thread
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.say" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;say
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.say_scheduled" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;say_scheduled
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.reply" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reply
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.reply_scheduled" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reply_scheduled
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.reply_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reply_dm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.reply_dm_scheduled" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reply_dm_scheduled
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.react" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;react
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.pin_message" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pin_message
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Command
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Command">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.sender" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;sender
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.channel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;channel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.is_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;is_dm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.text" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.command" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.response_url" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;response_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.trigger_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;trigger_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.say" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;say
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.open_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;open_modal
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BlockAction
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" BlockAction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.payload" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;payload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.triggered_action" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;triggered_action
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.user" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.channel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;channel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.state" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.response_url" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;response_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.trigger_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;trigger_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.say" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;say
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.send_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_dm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.open_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;open_modal
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ModalSubmission
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ModalSubmission">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.user" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.view" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;view
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.trigger_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;trigger_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.open_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;open_modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.push_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;push_modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.update_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.send_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_dm
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalClosure" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ModalClosure
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ModalClosure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalClosure.user" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalClosure.view" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;view
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalClosure.send_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_dm
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decorators" class="md-nav__link">
    <span class="md-ellipsis">
      Decorators
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decorators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;decorators
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" decorators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.process" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.listen_to" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;listen_to
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.respond_to" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;respond_to
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.command" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.action" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;action
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.modal_closed" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;modal_closed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.schedule" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;schedule
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.on" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;on
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.required_settings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;required_settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.require_any_role" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;require_any_role
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.require_all_roles" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;require_all_roles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    <span class="md-ellipsis">
      Models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.models.user.User" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;User
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" User">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.models.user.User.fmt_mention" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;fmt_mention
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.models.channel.Channel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Channel
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Channel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.models.channel.Channel.identifier" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;identifier
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.models.interactive.BlockActionsPayload" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BlockActionsPayload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.models.interactive.Action" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Action
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.models.interactive.ViewSubmissionPayload" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ViewSubmissionPayload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.models.interactive.View" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;View
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.models.interactive.State" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;State
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    <span class="md-ellipsis">
      Storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PluginStorage
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" PluginStorage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage.set" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage.get" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage.has" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;has
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage.delete" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage.get_storage_size" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_storage_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage.get_storage_size_human" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_storage_size_human
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MachineBaseStorage
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" MachineBaseStorage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.init" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;init
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.get" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.set" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.delete" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.has" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;has
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.size" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.close" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;close
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../migrating/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrating plugins to async
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#plugin-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Plugin classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Plugin classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MachineBasePlugin
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" MachineBasePlugin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.users" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;users
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.users_by_email" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;users_by_email
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.channels" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;channels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.web_client" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;web_client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.bot_info" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;bot_info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.init" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;init
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.find_channel_by_name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;find_channel_by_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.get_user_by_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_user_by_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.get_user_by_email" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_user_by_email
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.at" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.say" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;say
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.say_scheduled" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;say_scheduled
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.update" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.delete" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.react" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;react
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.send_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_dm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.send_dm_scheduled" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_dm_scheduled
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.open_im" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;open_im
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.emit" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;emit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.pin_message" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pin_message
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.unpin_message" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;unpin_message
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.set_topic" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_topic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.open_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;open_modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.push_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;push_modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.update_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.base.MachineBasePlugin.publish_home_tab" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;publish_home_tab
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Message
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Message">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.sender" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;sender
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.channel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;channel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.is_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;is_dm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.text" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.at_sender" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;at_sender
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.ts" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.in_thread" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;in_thread
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.say" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;say
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.say_scheduled" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;say_scheduled
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.reply" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reply
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.reply_scheduled" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reply_scheduled
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.reply_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reply_dm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.reply_dm_scheduled" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reply_dm_scheduled
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.react" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;react
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.message.Message.pin_message" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pin_message
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Command
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Command">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.sender" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;sender
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.channel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;channel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.is_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;is_dm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.text" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.command" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.response_url" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;response_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.trigger_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;trigger_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.say" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;say
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.command.Command.open_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;open_modal
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BlockAction
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" BlockAction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.payload" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;payload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.triggered_action" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;triggered_action
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.user" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.channel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;channel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.state" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.response_url" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;response_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.trigger_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;trigger_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.say" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;say
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.send_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_dm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.block_action.BlockAction.open_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;open_modal
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ModalSubmission
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ModalSubmission">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.user" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.view" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;view
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.trigger_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;trigger_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.open_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;open_modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.push_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;push_modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.update_modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalSubmission.send_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_dm
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalClosure" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ModalClosure
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ModalClosure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalClosure.user" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalClosure.view" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;view
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.modals.ModalClosure.send_dm" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_dm
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decorators" class="md-nav__link">
    <span class="md-ellipsis">
      Decorators
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decorators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;decorators
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" decorators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.process" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.listen_to" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;listen_to
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.respond_to" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;respond_to
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.command" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.action" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;action
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.modal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;modal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.modal_closed" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;modal_closed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.schedule" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;schedule
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.on" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;on
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.required_settings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;required_settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.require_any_role" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;require_any_role
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.plugins.decorators.require_all_roles" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;require_all_roles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    <span class="md-ellipsis">
      Models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.models.user.User" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;User
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" User">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.models.user.User.fmt_mention" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;fmt_mention
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.models.channel.Channel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Channel
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Channel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.models.channel.Channel.identifier" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;identifier
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.models.interactive.BlockActionsPayload" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BlockActionsPayload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.models.interactive.Action" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Action
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.models.interactive.ViewSubmissionPayload" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ViewSubmissionPayload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.models.interactive.View" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;View
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.models.interactive.State" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;State
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    <span class="md-ellipsis">
      Storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PluginStorage
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" PluginStorage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage.set" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage.get" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage.has" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;has
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage.delete" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage.get_storage_size" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_storage_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.PluginStorage.get_storage_size_human" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_storage_size_human
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MachineBaseStorage
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" MachineBaseStorage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.init" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;init
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.get" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.set" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.delete" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.has" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;has
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.size" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine.storage.backends.base.MachineBaseStorage.close" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;close
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="api-documentation">API Documentation</h1>
<p>This is the API documentation of all the classes and functions relevant for Plugin development. The rest of the code
deals with the internal workings of Slack Machine and is very much an implementation detail and subject to change.
Therefore it is not documented.</p>
<h2 id="plugin-classes">Plugin classes</h2>
<p>The following classes form the basis for Plugin development.</p>


<div class="doc doc-object doc-class">



<h3 id="machine.plugins.base.MachineBasePlugin" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.plugins.base.MachineBasePlugin</code>


</h3>


    <div class="doc doc-contents first">


        <p>Base class for all Slack Machine plugins</p>
<p>The purpose of this class is two-fold:</p>
<ol>
<li>It acts as a marker-class so Slack Machine can recognize plugins as such</li>
<li>It provides a lot of common functionality and convenience methods for plugins to
   interact with channels and users</li>
</ol>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="machine.plugins.base.MachineBasePlugin.settings">settings</span></code></td>
            <td>
                  <code><span title="machine.utils.collections.CaseInsensitiveDict">CaseInsensitiveDict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Slack Machine settings object that contains all settings that
        were defined through <code>local_settings.py</code> Plugin developers can use any
        settings that are defined by the user, and ask users to add new settings
        specifically for their plugin.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="machine.plugins.base.MachineBasePlugin.storage">storage</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.storage.PluginStorage" href="#machine.storage.PluginStorage">PluginStorage</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Plugin storage object that allows plugins to store and retrieve data</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MachineBasePlugin</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for all Slack Machine plugins</span>

<span class="sd">    The purpose of this class is two-fold:</span>

<span class="sd">    1. It acts as a marker-class so Slack Machine can recognize plugins as such</span>
<span class="sd">    2. It provides a lot of common functionality and convenience methods for plugins to</span>
<span class="sd">       interact with channels and users</span>

<span class="sd">    Attributes:</span>
<span class="sd">        settings: Slack Machine settings object that contains all settings that</span>
<span class="sd">                    were defined through ``local_settings.py`` Plugin developers can use any</span>
<span class="sd">                    settings that are defined by the user, and ask users to add new settings</span>
<span class="sd">                    specifically for their plugin.</span>
<span class="sd">        storage: Plugin storage object that allows plugins to store and retrieve data</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_client</span><span class="p">:</span> <span class="n">SlackClient</span>
    <span class="n">storage</span><span class="p">:</span> <span class="n">PluginStorage</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">CaseInsensitiveDict</span>
    <span class="n">_fq_name</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">SlackClient</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">CaseInsensitiveDict</span><span class="p">,</span> <span class="n">storage</span><span class="p">:</span> <span class="n">PluginStorage</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">storage</span> <span class="o">=</span> <span class="n">storage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings</span> <span class="o">=</span> <span class="n">settings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fq_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">users</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">User</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Dictionary of all users in the Slack workspace</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary of all users in the Slack workspace, where the key is the user id and</span>
<span class="sd">                the value is a [`User`][machine.models.user.User] object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">users</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">users_by_email</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">User</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Dictionary of all users in the Slack workspace by email</span>

<span class="sd">        Note:</span>
<span class="sd">            not every user might have an email address in their profile, so this</span>
<span class="sd">            dictionary might not contain all users in the Slack workspace</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary of all users in the Slack workspace, where the key is the email and</span>
<span class="sd">                the value is a [`User`][machine.models.user.User] object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">users</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">channels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Channel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List of all channels in the Slack workspace</span>

<span class="sd">        This is a list of all channels in the Slack workspace that the bot is aware of. This</span>
<span class="sd">        includes all public channels, all private channels the bot is a member of and all DM</span>
<span class="sd">        channels the bot is a member of.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a list of all channels in the Slack workspace, where each channel is a</span>
<span class="sd">                [`Channel`][machine.models.channel.Channel] object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">channels</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">web_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncWebClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Slack SDK web client to access the [Slack Web API](https://api.slack.com/web)</span>

<span class="sd">        Returns:</span>
<span class="sd">            an instance of [`AsyncWebClient`](https://slack.dev/python-slack-sdk/api-docs/slack_sdk/web/async_client.html#slack_sdk.web.async_client.AsyncWebClient)</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">web_client</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bot_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Information about the bot user in Slack</span>

<span class="sd">        This will return a dictionary with information about the bot user in Slack that represents</span>
<span class="sd">        Slack Machine</span>

<span class="sd">        Returns:</span>
<span class="sd">            Bot user</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">bot_info</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize plugin</span>

<span class="sd">        This method can be implemented by concrete plugin classes. It will be called **once**</span>
<span class="sd">        for each plugin, when that plugin is first loaded. You can refer to settings via</span>
<span class="sd">        `self.settings`, and access storage through `self.storage`, but the Slack client has</span>
<span class="sd">        not been initialized yet, so you cannot send or process messages during initialization.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">find_channel_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Channel</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Find a channel by its name, irrespective of a preceding pound symbol. This does not include DMs.</span>

<span class="sd">        Args:</span>
<span class="sd">            channel_name: The name of the channel to retrieve.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The channel if found, `None` otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">channel_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>
            <span class="n">channel_name</span> <span class="o">=</span> <span class="n">channel_name</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">name_normalized</span> <span class="ow">and</span> <span class="n">channel_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">c</span><span class="o">.</span><span class="n">name_normalized</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="k">return</span> <span class="n">c</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">get_user_by_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a user by their ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_id: The ID of the user to retrieve.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The user if found, None otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_user_by_email</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a user by their email address.</span>

<span class="sd">        Args:</span>
<span class="sd">            email: The email address of the user to retrieve.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The user if found, None otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_user_by_email</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">at</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">User</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a mention of the provided user</span>

<span class="sd">        Create a mention of the provided user in the form of `&lt;@[user_id]&gt;`. This method is</span>
<span class="sd">        convenient when you want to include mentions in your message. This method does not send</span>
<span class="sd">        a message, but should be used together with methods like</span>
<span class="sd">        [`say()`][machine.plugins.base.MachineBasePlugin.say].</span>

<span class="sd">        Args:</span>
<span class="sd">            user: user your want to mention</span>

<span class="sd">        Returns:</span>
<span class="sd">            user mention</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">fmt_mention</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">say</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">thread_ts</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">ephemeral_user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a message to a channel</span>

<span class="sd">        Send a message to a channel using the WebAPI. Allows for rich formatting using</span>
<span class="sd">        [blocks] and/or [attachments]. You can provide blocks and attachments as Python dicts or</span>
<span class="sd">        you can use the [convenience classes] that the underlying slack client provides.</span>
<span class="sd">        Can also reply in-thread and send ephemeral messages, visible to only one user.</span>
<span class="sd">        Ephemeral messages and threaded messages are mutually exclusive, and `ephemeral_user`</span>
<span class="sd">        takes precedence over `thread_ts`</span>

<span class="sd">        Any extra kwargs you provide, will be passed on directly to the [chat.postMessage] or</span>
<span class="sd">        [chat.postEphemeral] request.</span>

<span class="sd">        [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">        [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">        [convenience classes]:</span>
<span class="sd">            https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes</span>
<span class="sd">        [chat.postMessage]: https://api.slack.com/methods/chat.postMessage</span>
<span class="sd">        [chat.postEphemeral]: https://api.slack.com/methods/chat.postEphemeral</span>

<span class="sd">        Args:</span>
<span class="sd">            channel: [`Channel`][machine.models.channel.Channel] object or id of channel to send</span>
<span class="sd">                message to. Can be public or private (group) channel, or DM channel.</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments)</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">            thread_ts: optional timestamp of thread, to send a message in that thread</span>
<span class="sd">            ephemeral_user: optional user name or id if the message needs to visible</span>
<span class="sd">                to a specific user only</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response,</span>
<span class="sd">                or [chat.postEphemeral](https://api.slack.com/methods/chat.postEphemeral) if `ephemeral_user` is set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
            <span class="n">channel</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
            <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span>
            <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span>
            <span class="n">thread_ts</span><span class="o">=</span><span class="n">thread_ts</span><span class="p">,</span>
            <span class="n">ephemeral_user</span><span class="o">=</span><span class="n">ephemeral_user</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">say_scheduled</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
        <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">thread_ts</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Schedule a message to a channel</span>

<span class="sd">        This is the scheduled version of [`say()`][machine.plugins.base.MachineBasePlugin.say].</span>
<span class="sd">        It behaves the same, but will send the message at the scheduled time.</span>

<span class="sd">        Args:</span>
<span class="sd">            when: when you want the message to be sent, as [`datetime`][datetime.datetime] instance</span>
<span class="sd">            channel: [`Channel`][machine.models.channel.Channel] object or id of channel to send</span>
<span class="sd">                message to. Can be public or private (group) channel, or DM channel.</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">            thread_ts: optional timestamp of thread, to send a message in that thread</span>
<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.scheduleMessage](https://api.slack.com/methods/chat.scheduleMessage)</span>
<span class="sd">                response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_scheduled</span><span class="p">(</span>
            <span class="n">when</span><span class="p">,</span>
            <span class="n">channel</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
            <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span>
            <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span>
            <span class="n">thread_ts</span><span class="o">=</span><span class="n">thread_ts</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">ephemeral_user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing message</span>

<span class="sd">        Update an existing message using the WebAPI. Allows for rich formatting using</span>
<span class="sd">        [blocks] and/or [attachments]. You can provide blocks and attachments as Python dicts or</span>
<span class="sd">        you can use the [convenience classes] that the underlying slack client provides.</span>
<span class="sd">        Can also update in-thread and ephemeral messages, visible to only one user.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to the [`chat.update`][chat_update] request.</span>

<span class="sd">        [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">        [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">        [convenience classes]: https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes</span>
<span class="sd">        [chat_update]: https://api.slack.com/methods/chat.update</span>

<span class="sd">        Args:</span>
<span class="sd">            channel: [`Channel`][machine.models.channel.Channel] object or id of channel to send</span>
<span class="sd">                message to. Can be public or private (group) channel, or DM channel.</span>
<span class="sd">            ts: timestamp of the message to be updated.</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">            ephemeral_user: optional user name or id if the message needs to visible</span>
<span class="sd">                to a specific user only</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [`chat.update`](https://api.slack.com/methods/chat.update) response</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="n">channel</span><span class="p">,</span>
            <span class="n">ts</span><span class="o">=</span><span class="n">ts</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
            <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span>
            <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span>
            <span class="n">ephemeral_user</span><span class="o">=</span><span class="n">ephemeral_user</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete an existing message</span>

<span class="sd">        Delete an existing message using the WebAPI.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to the [`chat.delete`][chat_delete] request.</span>

<span class="sd">        [chat_delete]: https://api.slack.com/methods/chat.delete</span>

<span class="sd">        Args:</span>
<span class="sd">            channel: [`Channel`][machine.models.channel.Channel] object or id of channel to send</span>
<span class="sd">                message to. Can be public or private (group) channel, or DM channel.</span>
<span class="sd">            ts: timestamp of the message to be deleted.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [`chat.delete`](https://api.slack.com/methods/chat.delete) response</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
            <span class="n">channel</span><span class="p">,</span>
            <span class="n">ts</span><span class="o">=</span><span class="n">ts</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">react</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">emoji</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;React to a message in a channel</span>

<span class="sd">        Add a reaction to a message in a channel. What message to react to, is determined by the</span>
<span class="sd">        combination of the channel and the timestamp of the message.</span>

<span class="sd">        Args:</span>
<span class="sd">            channel: [`Channel`][machine.models.channel.Channel] object or id of channel to send</span>
<span class="sd">                message to. Can be public or private (group) channel, or DM channel.</span>
<span class="sd">            ts: timestamp of the message to react to</span>
<span class="sd">            emoji: what emoji to react with (should be a string, like &#39;angel&#39;, &#39;thumbsup&#39;, etc.)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [reactions.add](https://api.slack.com/methods/reactions.add) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">react</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">ts</span><span class="p">,</span> <span class="n">emoji</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">send_dm</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a Direct Message</span>

<span class="sd">        Send a Direct Message to a user by opening a DM channel and sending a message to it. Allows</span>
<span class="sd">        for rich formatting using [blocks] and/or [attachments]. You can provide blocks and</span>
<span class="sd">        attachments as Python dicts or you can use the [convenience classes] that the underlying</span>
<span class="sd">        slack client provides.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to the [chat.postMessage] request.</span>

<span class="sd">        [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">        [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">        [convenience classes]:</span>
<span class="sd">            https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes</span>
<span class="sd">        [chat.postMessage]: https://api.slack.com/methods/chat.postMessage</span>

<span class="sd">        Args:</span>
<span class="sd">            user: [`User`][machine.models.user.User] object or id of user to send DM to.</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">send_dm_scheduled</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
        <span class="n">user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Schedule a Direct Message</span>

<span class="sd">        This is the scheduled version of</span>
<span class="sd">        [`send_dm()`][machine.plugins.base.MachineBasePlugin.send_dm]. It behaves the same, but</span>
<span class="sd">        will send the DM at the scheduled time.</span>

<span class="sd">        Args:</span>
<span class="sd">            when: when you want the message to be sent, as [`datetime`][datetime.datetime] instance</span>
<span class="sd">            user: [`User`][machine.models.user.User] object or id of user to send DM to.</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.scheduleMessage](https://api.slack.com/methods/chat.scheduleMessage)</span>
<span class="sd">                response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm_scheduled</span><span class="p">(</span>
            <span class="n">when</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">open_im</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">users</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">User</span> <span class="o">|</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a DM channel with one or more users</span>

<span class="sd">        Open a DM channel with one or more users. If the DM channel already exists, the existing channel id</span>
<span class="sd">        will be returned. If the DM channel does not exist, a new channel will be created and the</span>
<span class="sd">        id of the new channel will be returned.</span>

<span class="sd">        Args:</span>
<span class="sd">            users: [`User`][machine.models.user.User] object or id of user to open DM with, or a list of user objects</span>
<span class="sd">                or user ids.</span>

<span class="sd">        Returns:</span>
<span class="sd">            id of the DM channel</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">open_im</span><span class="p">(</span><span class="n">users</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Emit an event</span>

<span class="sd">        Emit an event that plugins can listen for. You can include arbitrary data as keyword</span>
<span class="sd">        arguments.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: name of the event</span>
<span class="sd">            **kwargs: any data you want to emit with the event</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ee</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">pin_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pin message</span>

<span class="sd">        Pin a message in a channel</span>

<span class="sd">        Args:</span>
<span class="sd">            channel: channel to pin the message in</span>
<span class="sd">            ts: timestamp of the message to pin</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [pins.add](https://api.slack.com/methods/pins.add) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">pin_message</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">unpin_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Unpin message</span>

<span class="sd">        Unpin a message that was previously pinned in a channel</span>

<span class="sd">        Args:</span>
<span class="sd">            channel: channel where the message is pinned that needs to be unpinned</span>
<span class="sd">            ts: timestamp of the message to unpin</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [pins.remove](https://api.slack.com/methods/pins.remove) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">unpin_message</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_topic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">topic</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set channel topic</span>

<span class="sd">        Set or update topic for the channel</span>

<span class="sd">        Args:</span>
<span class="sd">            channel: channel where topic needs to be set or updated</span>
<span class="sd">            topic: topic for the channel (slack does not support formatting for topics)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [conversations.setTopic](https://api.slack.com/methods/conversations.setTopic)</span>
<span class="sd">                response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">set_topic</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">topic</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">open_modal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a modal dialog</span>

<span class="sd">        Open a modal dialog in response to a user action. The modal dialog can be used to collect</span>
<span class="sd">        information from the user, or to display information to the user.</span>

<span class="sd">        Args:</span>
<span class="sd">            trigger_id: trigger id is provided by Slack when a user action is performed, such as a slash command</span>
<span class="sd">                or a button click</span>
<span class="sd">            view: view definition for the modal dialog</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [views.open](https://api.slack.com/methods/views.open) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">web_client</span><span class="o">.</span><span class="n">views_open</span><span class="p">(</span><span class="n">trigger_id</span><span class="o">=</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="n">view</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">push_modal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Push a new view onto the stack of a modal that was already opened</span>

<span class="sd">        Push a new view onto the stack of a modal that was already opened by a open_modal call. At most 3 views can be</span>
<span class="sd">        active in a modal at the same time. For more information on the lifecycle of modals, refer to the</span>
<span class="sd">        [relevant Slack documentation](https://api.slack.com/surfaces/modals)</span>

<span class="sd">        Args:</span>
<span class="sd">            trigger_id: trigger id is provided by Slack when a user action is performed, such as a slash command</span>
<span class="sd">                or a button click</span>
<span class="sd">            view: view definition for the modal dialog</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [views.push](https://api.slack.com/methods/views.push) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">push_modal</span><span class="p">(</span><span class="n">trigger_id</span><span class="o">=</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="n">view</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">update_modal</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span>
        <span class="n">view_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">external_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="nb">hash</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a modal dialog</span>

<span class="sd">        Update a modal dialog that was previously opened. You can update the view by providing the view_id or the</span>
<span class="sd">        external_id of the modal. external_id has precedence over view_id, but at least one needs to be provided.</span>
<span class="sd">        You can also provide a hash of the view that you want to update to prevent race conditions.</span>

<span class="sd">        Args:</span>
<span class="sd">            view: view definition for the modal dialog</span>
<span class="sd">            view_id: id of the view to update</span>
<span class="sd">            external_id: external id of the view to update</span>
<span class="sd">            hash: hash of the view to update</span>
<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [views.update](https://api.slack.com/methods/views.update) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">update_modal</span><span class="p">(</span><span class="n">view</span><span class="o">=</span><span class="n">view</span><span class="p">,</span> <span class="n">view_id</span><span class="o">=</span><span class="n">view_id</span><span class="p">,</span> <span class="n">external_id</span><span class="o">=</span><span class="n">external_id</span><span class="p">,</span> <span class="nb">hash</span><span class="o">=</span><span class="nb">hash</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">publish_home_tab</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span> <span class="nb">hash</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Publish a view to the home tab of a user</span>

<span class="sd">        Publish a view to the home tab of a user. The view will be visible to the user when they open the home tab of</span>
<span class="sd">        your Slack app. This method can be used both to publish a new view for the home tab or update an existing view.</span>
<span class="sd">        You can provide a hash of the view that you want to update to prevent race conditions.</span>

<span class="sd">        Warning:</span>
<span class="sd">            Be careful with the use of this method, as you might be overwriting the user&#39;s home tab that was set by</span>
<span class="sd">            another Slack Machine plugin enabled in your bot.</span>

<span class="sd">        Args:</span>
<span class="sd">            user: user for whom to publish or update the home tab</span>
<span class="sd">            view: view definition for the home tab</span>
<span class="sd">            hash: hash of the view to update</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [views.publish](https://api.slack.com/methods/views.publish) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">publish_home_tab</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="n">view</span><span class="p">,</span> <span class="nb">hash</span><span class="o">=</span><span class="nb">hash</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.base.MachineBasePlugin.users" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">users</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">User</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Dictionary of all users in the Slack workspace</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary of all users in the Slack workspace, where the key is the user id and
the value is a <a class="autorefs autorefs-internal" title="            machine.models.user.User" href="#machine.models.user.User"><code>User</code></a> object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.base.MachineBasePlugin.users_by_email" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">users_by_email</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">User</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Dictionary of all users in the Slack workspace by email</p>


<details class="note" open>
  <summary>Note</summary>
  <p>not every user might have an email address in their profile, so this
dictionary might not contain all users in the Slack workspace</p>
</details>

    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary of all users in the Slack workspace, where the key is the email and
the value is a <a class="autorefs autorefs-internal" title="            machine.models.user.User" href="#machine.models.user.User"><code>User</code></a> object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.base.MachineBasePlugin.channels" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">channels</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Channel</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>List of all channels in the Slack workspace</p>
<p>This is a list of all channels in the Slack workspace that the bot is aware of. This
includes all public channels, all private channels the bot is a member of and all DM
channels the bot is a member of.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all channels in the Slack workspace, where each channel is a
<a class="autorefs autorefs-internal" title="            machine.models.channel.Channel" href="#machine.models.channel.Channel"><code>Channel</code></a> object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.base.MachineBasePlugin.web_client" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">web_client</span><span class="p">:</span> <span class="n">AsyncWebClient</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Slack SDK web client to access the <a href="https://api.slack.com/web">Slack Web API</a></p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_client.AsyncWebClient">AsyncWebClient</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an instance of <a href="https://slack.dev/python-slack-sdk/api-docs/slack_sdk/web/async_client.html#slack_sdk.web.async_client.AsyncWebClient"><code>AsyncWebClient</code></a></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.base.MachineBasePlugin.bot_info" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">bot_info</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Information about the bot user in Slack</p>
<p>This will return a dictionary with information about the bot user in Slack that represents
Slack Machine</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Bot user</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.init" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">init</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Initialize plugin</p>
<p>This method can be implemented by concrete plugin classes. It will be called <strong>once</strong>
for each plugin, when that plugin is first loaded. You can refer to settings via
<code>self.settings</code>, and access storage through <code>self.storage</code>, but the Slack client has
not been initialized yet, so you cannot send or process messages during initialization.</p>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize plugin</span>

<span class="sd">    This method can be implemented by concrete plugin classes. It will be called **once**</span>
<span class="sd">    for each plugin, when that plugin is first loaded. You can refer to settings via</span>
<span class="sd">    `self.settings`, and access storage through `self.storage`, but the Slack client has</span>
<span class="sd">    not been initialized yet, so you cannot send or process messages during initialization.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.find_channel_by_name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">find_channel_by_name</span><span class="p">(</span><span class="n">channel_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Channel</span> <span class="o">|</span> <span class="kc">None</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Find a channel by its name, irrespective of a preceding pound symbol. This does not include DMs.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel_name</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the channel to retrieve.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The channel if found, <code>None</code> otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find_channel_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Channel</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find a channel by its name, irrespective of a preceding pound symbol. This does not include DMs.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel_name: The name of the channel to retrieve.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The channel if found, `None` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">channel_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>
        <span class="n">channel_name</span> <span class="o">=</span> <span class="n">channel_name</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">name_normalized</span> <span class="ow">and</span> <span class="n">channel_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">c</span><span class="o">.</span><span class="n">name_normalized</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">c</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.get_user_by_id" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_user_by_id</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span> <span class="o">|</span> <span class="kc">None</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Get a user by their ID.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>user_id</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the user to retrieve.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The user if found, None otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_user_by_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a user by their ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id: The ID of the user to retrieve.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The user if found, None otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.get_user_by_email" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_user_by_email</span><span class="p">(</span><span class="n">email</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span> <span class="o">|</span> <span class="kc">None</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Get a user by their email address.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>email</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The email address of the user to retrieve.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The user if found, None otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_user_by_email</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a user by their email address.</span>

<span class="sd">    Args:</span>
<span class="sd">        email: The email address of the user to retrieve.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The user if found, None otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_user_by_email</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.at" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">at</span><span class="p">(</span><span class="n">user</span><span class="p">:</span> <span class="n">User</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Create a mention of the provided user</p>
<p>Create a mention of the provided user in the form of <code>&lt;@[user_id]&gt;</code>. This method is
convenient when you want to include mentions in your message. This method does not send
a message, but should be used together with methods like
<a class="autorefs autorefs-internal" title="            say(channel: Channel | str, text: str | None = None, attachments: Sequence[Attachment] | Sequence[dict[str, Any]] | None = None, blocks: Sequence[Block] | Sequence[dict[str, Any]] | None = None, thread_ts: str | None = None, ephemeral_user: User | str | None = None, **kwargs: Any) -> AsyncSlackResponse

  
      async
  " href="#machine.plugins.base.MachineBasePlugin.say"><code>say()</code></a>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>user</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>user your want to mention</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>user mention</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">at</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">User</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a mention of the provided user</span>

<span class="sd">    Create a mention of the provided user in the form of `&lt;@[user_id]&gt;`. This method is</span>
<span class="sd">    convenient when you want to include mentions in your message. This method does not send</span>
<span class="sd">    a message, but should be used together with methods like</span>
<span class="sd">    [`say()`][machine.plugins.base.MachineBasePlugin.say].</span>

<span class="sd">    Args:</span>
<span class="sd">        user: user your want to mention</span>

<span class="sd">    Returns:</span>
<span class="sd">        user mention</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">fmt_mention</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.say" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">say</span><span class="p">(</span><span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">thread_ts</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ephemeral_user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Send a message to a channel</p>
<p>Send a message to a channel using the WebAPI. Allows for rich formatting using
<a href="https://api.slack.com/reference/block-kit/blocks">blocks</a> and/or <a href="https://api.slack.com/docs/message-attachments">attachments</a>. You can provide blocks and attachments as Python dicts or
you can use the <a href="https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes">convenience classes</a> that the underlying slack client provides.
Can also reply in-thread and send ephemeral messages, visible to only one user.
Ephemeral messages and threaded messages are mutually exclusive, and <code>ephemeral_user</code>
takes precedence over <code>thread_ts</code></p>
<p>Any extra kwargs you provide, will be passed on directly to the <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> or
<a href="https://api.slack.com/methods/chat.postEphemeral">chat.postEphemeral</a> request.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel" href="#machine.models.channel.Channel"><code>Channel</code></a> object or id of channel to send
message to. Can be public or private (group) channel, or DM channel.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a></p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>thread_ts</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional timestamp of thread, to send a message in that thread</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ephemeral_user</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional user name or id if the message needs to visible
to a specific user only</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> response,
or <a href="https://api.slack.com/methods/chat.postEphemeral">chat.postEphemeral</a> if <code>ephemeral_user</code> is set.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">say</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">thread_ts</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ephemeral_user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a message to a channel</span>

<span class="sd">    Send a message to a channel using the WebAPI. Allows for rich formatting using</span>
<span class="sd">    [blocks] and/or [attachments]. You can provide blocks and attachments as Python dicts or</span>
<span class="sd">    you can use the [convenience classes] that the underlying slack client provides.</span>
<span class="sd">    Can also reply in-thread and send ephemeral messages, visible to only one user.</span>
<span class="sd">    Ephemeral messages and threaded messages are mutually exclusive, and `ephemeral_user`</span>
<span class="sd">    takes precedence over `thread_ts`</span>

<span class="sd">    Any extra kwargs you provide, will be passed on directly to the [chat.postMessage] or</span>
<span class="sd">    [chat.postEphemeral] request.</span>

<span class="sd">    [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">    [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">    [convenience classes]:</span>
<span class="sd">        https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes</span>
<span class="sd">    [chat.postMessage]: https://api.slack.com/methods/chat.postMessage</span>
<span class="sd">    [chat.postEphemeral]: https://api.slack.com/methods/chat.postEphemeral</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: [`Channel`][machine.models.channel.Channel] object or id of channel to send</span>
<span class="sd">            message to. Can be public or private (group) channel, or DM channel.</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments)</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">        thread_ts: optional timestamp of thread, to send a message in that thread</span>
<span class="sd">        ephemeral_user: optional user name or id if the message needs to visible</span>
<span class="sd">            to a specific user only</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response,</span>
<span class="sd">            or [chat.postEphemeral](https://api.slack.com/methods/chat.postEphemeral) if `ephemeral_user` is set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
        <span class="n">channel</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
        <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span>
        <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span>
        <span class="n">thread_ts</span><span class="o">=</span><span class="n">thread_ts</span><span class="p">,</span>
        <span class="n">ephemeral_user</span><span class="o">=</span><span class="n">ephemeral_user</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.say_scheduled" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">say_scheduled</span><span class="p">(</span><span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">thread_ts</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Schedule a message to a channel</p>
<p>This is the scheduled version of <a class="autorefs autorefs-internal" title="            say(channel: Channel | str, text: str | None = None, attachments: Sequence[Attachment] | Sequence[dict[str, Any]] | None = None, blocks: Sequence[Block] | Sequence[dict[str, Any]] | None = None, thread_ts: str | None = None, ephemeral_user: User | str | None = None, **kwargs: Any) -> AsyncSlackResponse

  
      async
  " href="#machine.plugins.base.MachineBasePlugin.say"><code>say()</code></a>.
It behaves the same, but will send the message at the scheduled time.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>when</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="datetime.datetime" href="https://docs.python.org/dev/library/datetime.html#datetime.datetime">datetime</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>when you want the message to be sent, as <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/datetime.html#datetime.datetime"><code>datetime</code></a> instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel" href="#machine.models.channel.Channel"><code>Channel</code></a> object or id of channel to send
message to. Can be public or private (group) channel, or DM channel.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>thread_ts</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional timestamp of thread, to send a message in that thread</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    Dictionary deserialized from <a href="https://api.slack.com/methods/chat.scheduleMessage">chat.scheduleMessage</a>
        response.</p>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">say_scheduled</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
    <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">thread_ts</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Schedule a message to a channel</span>

<span class="sd">    This is the scheduled version of [`say()`][machine.plugins.base.MachineBasePlugin.say].</span>
<span class="sd">    It behaves the same, but will send the message at the scheduled time.</span>

<span class="sd">    Args:</span>
<span class="sd">        when: when you want the message to be sent, as [`datetime`][datetime.datetime] instance</span>
<span class="sd">        channel: [`Channel`][machine.models.channel.Channel] object or id of channel to send</span>
<span class="sd">            message to. Can be public or private (group) channel, or DM channel.</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">        thread_ts: optional timestamp of thread, to send a message in that thread</span>
<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.scheduleMessage](https://api.slack.com/methods/chat.scheduleMessage)</span>
<span class="sd">            response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_scheduled</span><span class="p">(</span>
        <span class="n">when</span><span class="p">,</span>
        <span class="n">channel</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
        <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span>
        <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span>
        <span class="n">thread_ts</span><span class="o">=</span><span class="n">thread_ts</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.update" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ephemeral_user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Update an existing message</p>
<p>Update an existing message using the WebAPI. Allows for rich formatting using
<a href="https://api.slack.com/reference/block-kit/blocks">blocks</a> and/or <a href="https://api.slack.com/docs/message-attachments">attachments</a>. You can provide blocks and attachments as Python dicts or
you can use the <a href="https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes">convenience classes</a> that the underlying slack client provides.
Can also update in-thread and ephemeral messages, visible to only one user.
Any extra kwargs you provide, will be passed on directly to the <a href="https://api.slack.com/methods/chat.update"><code>chat.update</code></a> request.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel" href="#machine.models.channel.Channel"><code>Channel</code></a> object or id of channel to send
message to. Can be public or private (group) channel, or DM channel.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ts</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>timestamp of the message to be updated.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ephemeral_user</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional user name or id if the message needs to visible
to a specific user only</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.update"><code>chat.update</code></a> response</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ephemeral_user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing message</span>

<span class="sd">    Update an existing message using the WebAPI. Allows for rich formatting using</span>
<span class="sd">    [blocks] and/or [attachments]. You can provide blocks and attachments as Python dicts or</span>
<span class="sd">    you can use the [convenience classes] that the underlying slack client provides.</span>
<span class="sd">    Can also update in-thread and ephemeral messages, visible to only one user.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to the [`chat.update`][chat_update] request.</span>

<span class="sd">    [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">    [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">    [convenience classes]: https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes</span>
<span class="sd">    [chat_update]: https://api.slack.com/methods/chat.update</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: [`Channel`][machine.models.channel.Channel] object or id of channel to send</span>
<span class="sd">            message to. Can be public or private (group) channel, or DM channel.</span>
<span class="sd">        ts: timestamp of the message to be updated.</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">        ephemeral_user: optional user name or id if the message needs to visible</span>
<span class="sd">            to a specific user only</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [`chat.update`](https://api.slack.com/methods/chat.update) response</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="n">channel</span><span class="p">,</span>
        <span class="n">ts</span><span class="o">=</span><span class="n">ts</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
        <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span>
        <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span>
        <span class="n">ephemeral_user</span><span class="o">=</span><span class="n">ephemeral_user</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.delete" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">delete</span><span class="p">(</span><span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Delete an existing message</p>
<p>Delete an existing message using the WebAPI.
Any extra kwargs you provide, will be passed on directly to the <a href="https://api.slack.com/methods/chat.delete"><code>chat.delete</code></a> request.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel" href="#machine.models.channel.Channel"><code>Channel</code></a> object or id of channel to send
message to. Can be public or private (group) channel, or DM channel.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ts</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>timestamp of the message to be deleted.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.delete"><code>chat.delete</code></a> response</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete an existing message</span>

<span class="sd">    Delete an existing message using the WebAPI.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to the [`chat.delete`][chat_delete] request.</span>

<span class="sd">    [chat_delete]: https://api.slack.com/methods/chat.delete</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: [`Channel`][machine.models.channel.Channel] object or id of channel to send</span>
<span class="sd">            message to. Can be public or private (group) channel, or DM channel.</span>
<span class="sd">        ts: timestamp of the message to be deleted.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [`chat.delete`](https://api.slack.com/methods/chat.delete) response</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
        <span class="n">channel</span><span class="p">,</span>
        <span class="n">ts</span><span class="o">=</span><span class="n">ts</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.react" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">react</span><span class="p">(</span><span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">emoji</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>React to a message in a channel</p>
<p>Add a reaction to a message in a channel. What message to react to, is determined by the
combination of the channel and the timestamp of the message.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel" href="#machine.models.channel.Channel"><code>Channel</code></a> object or id of channel to send
message to. Can be public or private (group) channel, or DM channel.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ts</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>timestamp of the message to react to</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>emoji</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>what emoji to react with (should be a string, like 'angel', 'thumbsup', etc.)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/reactions.add">reactions.add</a> response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">react</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">emoji</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;React to a message in a channel</span>

<span class="sd">    Add a reaction to a message in a channel. What message to react to, is determined by the</span>
<span class="sd">    combination of the channel and the timestamp of the message.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: [`Channel`][machine.models.channel.Channel] object or id of channel to send</span>
<span class="sd">            message to. Can be public or private (group) channel, or DM channel.</span>
<span class="sd">        ts: timestamp of the message to react to</span>
<span class="sd">        emoji: what emoji to react with (should be a string, like &#39;angel&#39;, &#39;thumbsup&#39;, etc.)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [reactions.add](https://api.slack.com/methods/reactions.add) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">react</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">ts</span><span class="p">,</span> <span class="n">emoji</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.send_dm" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">send_dm</span><span class="p">(</span><span class="n">user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Send a Direct Message</p>
<p>Send a Direct Message to a user by opening a DM channel and sending a message to it. Allows
for rich formatting using <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a> and/or <a href="https://api.slack.com/docs/message-attachments">attachments</a>. You can provide blocks and
attachments as Python dicts or you can use the <a href="https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes">convenience classes</a> that the underlying
slack client provides.
Any extra kwargs you provide, will be passed on directly to the <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> request.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>user</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="            machine.models.user.User" href="#machine.models.user.User"><code>User</code></a> object or id of user to send DM to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">send_dm</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a Direct Message</span>

<span class="sd">    Send a Direct Message to a user by opening a DM channel and sending a message to it. Allows</span>
<span class="sd">    for rich formatting using [blocks] and/or [attachments]. You can provide blocks and</span>
<span class="sd">    attachments as Python dicts or you can use the [convenience classes] that the underlying</span>
<span class="sd">    slack client provides.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to the [chat.postMessage] request.</span>

<span class="sd">    [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">    [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">    [convenience classes]:</span>
<span class="sd">        https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes</span>
<span class="sd">    [chat.postMessage]: https://api.slack.com/methods/chat.postMessage</span>

<span class="sd">    Args:</span>
<span class="sd">        user: [`User`][machine.models.user.User] object or id of user to send DM to.</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.send_dm_scheduled" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">send_dm_scheduled</span><span class="p">(</span><span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Schedule a Direct Message</p>
<p>This is the scheduled version of
<a class="autorefs autorefs-internal" title="            send_dm(user: User | str, text: str | None = None, attachments: Sequence[Attachment] | Sequence[dict[str, Any]] | None = None, blocks: Sequence[Block] | Sequence[dict[str, Any]] | None = None, **kwargs: Any) -> AsyncSlackResponse

  
      async
  " href="#machine.plugins.base.MachineBasePlugin.send_dm"><code>send_dm()</code></a>. It behaves the same, but
will send the DM at the scheduled time.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>when</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="datetime.datetime" href="https://docs.python.org/dev/library/datetime.html#datetime.datetime">datetime</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>when you want the message to be sent, as <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/datetime.html#datetime.datetime"><code>datetime</code></a> instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>user</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="            machine.models.user.User" href="#machine.models.user.User"><code>User</code></a> object or id of user to send DM to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.scheduleMessage">chat.scheduleMessage</a>
response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">send_dm_scheduled</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Schedule a Direct Message</span>

<span class="sd">    This is the scheduled version of</span>
<span class="sd">    [`send_dm()`][machine.plugins.base.MachineBasePlugin.send_dm]. It behaves the same, but</span>
<span class="sd">    will send the DM at the scheduled time.</span>

<span class="sd">    Args:</span>
<span class="sd">        when: when you want the message to be sent, as [`datetime`][datetime.datetime] instance</span>
<span class="sd">        user: [`User`][machine.models.user.User] object or id of user to send DM to.</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.scheduleMessage](https://api.slack.com/methods/chat.scheduleMessage)</span>
<span class="sd">            response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm_scheduled</span><span class="p">(</span>
        <span class="n">when</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.open_im" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">open_im</span><span class="p">(</span><span class="n">users</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">User</span> <span class="o">|</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Open a DM channel with one or more users</p>
<p>Open a DM channel with one or more users. If the DM channel already exists, the existing channel id
will be returned. If the DM channel does not exist, a new channel will be created and the
id of the new channel will be returned.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>users</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="            machine.models.user.User" href="#machine.models.user.User"><code>User</code></a> object or id of user to open DM with, or a list of user objects
or user ids.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id of the DM channel</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">open_im</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">users</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">User</span> <span class="o">|</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Open a DM channel with one or more users</span>

<span class="sd">    Open a DM channel with one or more users. If the DM channel already exists, the existing channel id</span>
<span class="sd">    will be returned. If the DM channel does not exist, a new channel will be created and the</span>
<span class="sd">    id of the new channel will be returned.</span>

<span class="sd">    Args:</span>
<span class="sd">        users: [`User`][machine.models.user.User] object or id of user to open DM with, or a list of user objects</span>
<span class="sd">            or user ids.</span>

<span class="sd">    Returns:</span>
<span class="sd">        id of the DM channel</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">open_im</span><span class="p">(</span><span class="n">users</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.emit" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">emit</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Emit an event</p>
<p>Emit an event that plugins can listen for. You can include arbitrary data as keyword
arguments.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>event</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the event</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>any data you want to emit with the event</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Emit an event</span>

<span class="sd">    Emit an event that plugins can listen for. You can include arbitrary data as keyword</span>
<span class="sd">    arguments.</span>

<span class="sd">    Args:</span>
<span class="sd">        event: name of the event</span>
<span class="sd">        **kwargs: any data you want to emit with the event</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.pin_message" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">pin_message</span><span class="p">(</span><span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Pin message</p>
<p>Pin a message in a channel</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>channel to pin the message in</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ts</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>timestamp of the message to pin</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/pins.add">pins.add</a> response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">pin_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pin message</span>

<span class="sd">    Pin a message in a channel</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: channel to pin the message in</span>
<span class="sd">        ts: timestamp of the message to pin</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [pins.add](https://api.slack.com/methods/pins.add) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">pin_message</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.unpin_message" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">unpin_message</span><span class="p">(</span><span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Unpin message</p>
<p>Unpin a message that was previously pinned in a channel</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>channel where the message is pinned that needs to be unpinned</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ts</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>timestamp of the message to unpin</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/pins.remove">pins.remove</a> response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">unpin_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ts</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Unpin message</span>

<span class="sd">    Unpin a message that was previously pinned in a channel</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: channel where the message is pinned that needs to be unpinned</span>
<span class="sd">        ts: timestamp of the message to unpin</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [pins.remove](https://api.slack.com/methods/pins.remove) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">unpin_message</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.set_topic" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">set_topic</span><span class="p">(</span><span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">topic</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Set channel topic</p>
<p>Set or update topic for the channel</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>channel where topic needs to be set or updated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>topic</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>topic for the channel (slack does not support formatting for topics)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/conversations.setTopic">conversations.setTopic</a>
response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_topic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">topic</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set channel topic</span>

<span class="sd">    Set or update topic for the channel</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: channel where topic needs to be set or updated</span>
<span class="sd">        topic: topic for the channel (slack does not support formatting for topics)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [conversations.setTopic](https://api.slack.com/methods/conversations.setTopic)</span>
<span class="sd">            response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">set_topic</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">topic</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.open_modal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">open_modal</span><span class="p">(</span><span class="n">trigger_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Open a modal dialog</p>
<p>Open a modal dialog in response to a user action. The modal dialog can be used to collect
information from the user, or to display information to the user.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>trigger_id</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>trigger id is provided by Slack when a user action is performed, such as a slash command
or a button click</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>view</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a> | <span title="slack_sdk.models.views.View">View</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>view definition for the modal dialog</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/views.open">views.open</a> response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">open_modal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Open a modal dialog</span>

<span class="sd">    Open a modal dialog in response to a user action. The modal dialog can be used to collect</span>
<span class="sd">    information from the user, or to display information to the user.</span>

<span class="sd">    Args:</span>
<span class="sd">        trigger_id: trigger id is provided by Slack when a user action is performed, such as a slash command</span>
<span class="sd">            or a button click</span>
<span class="sd">        view: view definition for the modal dialog</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [views.open](https://api.slack.com/methods/views.open) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">web_client</span><span class="o">.</span><span class="n">views_open</span><span class="p">(</span><span class="n">trigger_id</span><span class="o">=</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="n">view</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.push_modal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">push_modal</span><span class="p">(</span><span class="n">trigger_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Push a new view onto the stack of a modal that was already opened</p>
<p>Push a new view onto the stack of a modal that was already opened by a open_modal call. At most 3 views can be
active in a modal at the same time. For more information on the lifecycle of modals, refer to the
<a href="https://api.slack.com/surfaces/modals">relevant Slack documentation</a></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>trigger_id</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>trigger id is provided by Slack when a user action is performed, such as a slash command
or a button click</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>view</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a> | <span title="slack_sdk.models.views.View">View</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>view definition for the modal dialog</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/views.push">views.push</a> response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">push_modal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Push a new view onto the stack of a modal that was already opened</span>

<span class="sd">    Push a new view onto the stack of a modal that was already opened by a open_modal call. At most 3 views can be</span>
<span class="sd">    active in a modal at the same time. For more information on the lifecycle of modals, refer to the</span>
<span class="sd">    [relevant Slack documentation](https://api.slack.com/surfaces/modals)</span>

<span class="sd">    Args:</span>
<span class="sd">        trigger_id: trigger id is provided by Slack when a user action is performed, such as a slash command</span>
<span class="sd">            or a button click</span>
<span class="sd">        view: view definition for the modal dialog</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [views.push](https://api.slack.com/methods/views.push) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">push_modal</span><span class="p">(</span><span class="n">trigger_id</span><span class="o">=</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="n">view</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.update_modal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">update_modal</span><span class="p">(</span><span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span> <span class="n">view_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">external_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">hash</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Update a modal dialog</p>
<p>Update a modal dialog that was previously opened. You can update the view by providing the view_id or the
external_id of the modal. external_id has precedence over view_id, but at least one needs to be provided.
You can also provide a hash of the view that you want to update to prevent race conditions.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>view</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a> | <span title="slack_sdk.models.views.View">View</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>view definition for the modal dialog</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>view_id</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id of the view to update</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>external_id</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>external id of the view to update</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>hash</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>hash of the view to update</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    Dictionary deserialized from <a href="https://api.slack.com/methods/views.update">views.update</a> response.</p>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">update_modal</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span>
    <span class="n">view_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">external_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="nb">hash</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a modal dialog</span>

<span class="sd">    Update a modal dialog that was previously opened. You can update the view by providing the view_id or the</span>
<span class="sd">    external_id of the modal. external_id has precedence over view_id, but at least one needs to be provided.</span>
<span class="sd">    You can also provide a hash of the view that you want to update to prevent race conditions.</span>

<span class="sd">    Args:</span>
<span class="sd">        view: view definition for the modal dialog</span>
<span class="sd">        view_id: id of the view to update</span>
<span class="sd">        external_id: external id of the view to update</span>
<span class="sd">        hash: hash of the view to update</span>
<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [views.update](https://api.slack.com/methods/views.update) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">update_modal</span><span class="p">(</span><span class="n">view</span><span class="o">=</span><span class="n">view</span><span class="p">,</span> <span class="n">view_id</span><span class="o">=</span><span class="n">view_id</span><span class="p">,</span> <span class="n">external_id</span><span class="o">=</span><span class="n">external_id</span><span class="p">,</span> <span class="nb">hash</span><span class="o">=</span><span class="nb">hash</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.base.MachineBasePlugin.publish_home_tab" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">publish_home_tab</span><span class="p">(</span><span class="n">user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span> <span class="nb">hash</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Publish a view to the home tab of a user</p>
<p>Publish a view to the home tab of a user. The view will be visible to the user when they open the home tab of
your Slack app. This method can be used both to publish a new view for the home tab or update an existing view.
You can provide a hash of the view that you want to update to prevent race conditions.</p>


<details class="warning" open>
  <summary>Warning</summary>
  <p>Be careful with the use of this method, as you might be overwriting the user's home tab that was set by
another Slack Machine plugin enabled in your bot.</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>user</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>user for whom to publish or update the home tab</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>view</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a> | <span title="slack_sdk.models.views.View">View</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>view definition for the home tab</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>hash</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>hash of the view to update</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/views.publish">views.publish</a> response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">publish_home_tab</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span> <span class="nb">hash</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Publish a view to the home tab of a user</span>

<span class="sd">    Publish a view to the home tab of a user. The view will be visible to the user when they open the home tab of</span>
<span class="sd">    your Slack app. This method can be used both to publish a new view for the home tab or update an existing view.</span>
<span class="sd">    You can provide a hash of the view that you want to update to prevent race conditions.</span>

<span class="sd">    Warning:</span>
<span class="sd">        Be careful with the use of this method, as you might be overwriting the user&#39;s home tab that was set by</span>
<span class="sd">        another Slack Machine plugin enabled in your bot.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: user for whom to publish or update the home tab</span>
<span class="sd">        view: view definition for the home tab</span>
<span class="sd">        hash: hash of the view to update</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [views.publish](https://api.slack.com/methods/views.publish) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">publish_home_tab</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="n">view</span><span class="p">,</span> <span class="nb">hash</span><span class="o">=</span><span class="nb">hash</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />


<div class="doc doc-object doc-class">



<h3 id="machine.plugins.message.Message" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.plugins.message.Message</code>


</h3>


    <div class="doc doc-contents first">


        <p>A message that was received by the bot</p>
<p>This class represents a message that was received by the bot and passed to one or more
plugins. It contains the message (text) itself, and metadata about the message, such as the
sender of the message, the channel the message was sent to.</p>
<p>The <code>Message</code> class also contains convenience methods for replying to the message in the
right channel, replying to the sender, etc.</p>







              <details class="quote">
                <summary>Source code in <code>src/machine/plugins/message.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Message</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A message that was received by the bot</span>

<span class="sd">    This class represents a message that was received by the bot and passed to one or more</span>
<span class="sd">    plugins. It contains the message (text) itself, and metadata about the message, such as the</span>
<span class="sd">    sender of the message, the channel the message was sent to.</span>

<span class="sd">    The `Message` class also contains convenience methods for replying to the message in the</span>
<span class="sd">    right channel, replying to the sender, etc.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># TODO: create proper class for msg_event</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">SlackClient</span><span class="p">,</span> <span class="n">msg_event</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_msg_event</span> <span class="o">=</span> <span class="n">msg_event</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sender</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The sender of the message</span>

<span class="sd">        Returns:</span>
<span class="sd">            the User the message was sent by</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">users</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_msg_event</span><span class="p">[</span><span class="s2">&quot;user&quot;</span><span class="p">]]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">channel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Channel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The channel the message was sent to</span>

<span class="sd">        Returns:</span>
<span class="sd">            the Channel the message was sent to</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_msg_event</span><span class="p">[</span><span class="s2">&quot;channel&quot;</span><span class="p">]]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_dm</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Is the message a direct message</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the message was _not_ sent in a channel or group, `False` otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">channel_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_msg_event</span><span class="p">[</span><span class="s2">&quot;channel&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="p">(</span><span class="n">channel_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;C&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">channel_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;G&quot;</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The body of the actual message</span>

<span class="sd">        Returns:</span>
<span class="sd">            the body (text) of the actual message</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_msg_event</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">at_sender</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The sender of the message formatted as mention</span>

<span class="sd">        Returns:</span>
<span class="sd">            a string representation of the sender of the message, formatted as</span>
<span class="sd">                [mention](https://api.slack.com/docs/message-formatting#linking_to_channels_and_users),</span>
<span class="sd">                to be used in messages</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">fmt_mention</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The timestamp of the message</span>

<span class="sd">        Returns:</span>
<span class="sd">            the timestamp of the message</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_msg_event</span><span class="p">[</span><span class="s2">&quot;ts&quot;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">in_thread</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Is message in a thread</span>

<span class="sd">        Returns:</span>
<span class="sd">            the message is in a thread</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;thread_ts&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_msg_event</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">say</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">thread_ts</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a new message to the channel the original message was received in</span>

<span class="sd">        Send a new message to the channel the original message was received in, using the WebAPI.</span>
<span class="sd">        Allows for rich formatting using [blocks] and/or [attachments]. You can provide blocks</span>
<span class="sd">        and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">        underlying slack client provides.</span>
<span class="sd">        Can also reply to a thread and send an ephemeral message only visible to the sender of the</span>
<span class="sd">        original message. Ephemeral messages and threaded messages are mutually exclusive, and</span>
<span class="sd">        `ephemeral` takes precedence over `thread_ts`</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to the [chat.postMessage] or</span>
<span class="sd">        [chat.postEphemeral] request.</span>

<span class="sd">        [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">        [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">        [convenience classes]:</span>
<span class="sd">            https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes</span>
<span class="sd">        [chat.postMessage]: https://api.slack.com/methods/chat.postMessage</span>
<span class="sd">        [chat.postEphemeral]: https://api.slack.com/methods/chat.postEphemeral</span>

<span class="sd">        Args:</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">            thread_ts: optional timestamp of thread, to send a message in that thread</span>
<span class="sd">            ephemeral: `True/False` wether to send the message as an ephemeral message, only</span>
<span class="sd">                visible to the sender of the original message</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response,</span>
<span class="sd">                or [chat.postEphemeral](https://api.slack.com/methods/chat.postEphemeral) if `ephemeral` is True.</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ephemeral_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="n">ephemeral</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
            <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span>
            <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span>
            <span class="n">thread_ts</span><span class="o">=</span><span class="n">thread_ts</span><span class="p">,</span>
            <span class="n">ephemeral_user</span><span class="o">=</span><span class="n">ephemeral_user</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">say_scheduled</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">thread_ts</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Schedule a message</span>

<span class="sd">        This is the scheduled version of [`say()`][machine.plugins.message.Message.say].</span>
<span class="sd">        It behaves the same, but will send the message at the scheduled time.</span>

<span class="sd">        Args:</span>
<span class="sd">            when: when you want the message to be sent, as [`datetime`][datetime.datetime] instance</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">            thread_ts: optional timestamp of thread, to send a message in that thread</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.scheduleMessage](https://api.slack.com/methods/chat.scheduleMessage)</span>
<span class="sd">                response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_scheduled</span><span class="p">(</span>
            <span class="n">when</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
            <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span>
            <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span>
            <span class="n">thread_ts</span><span class="o">=</span><span class="n">thread_ts</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">reply</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">in_thread</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reply to the sender of the original message</span>

<span class="sd">        Reply to the sender of the original message with a new message, mentioning that user. Rich</span>
<span class="sd">        formatting using [blocks] and/or [attachments] is possible. You can provide blocks</span>
<span class="sd">        and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">        underlying slack client provides.</span>
<span class="sd">        Can also reply to a thread and send an ephemeral message only visible to the sender of the</span>
<span class="sd">        original message. In the case of in-thread response, the sender of the original message</span>
<span class="sd">        will not be mentioned. Ephemeral messages and threaded messages are mutually exclusive,</span>
<span class="sd">        and `ephemeral` takes precedence over `in_thread`</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to the [chat.postMessage] or</span>
<span class="sd">        [chat.postEphemeral] request.</span>

<span class="sd">        [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">        [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">        [convenience classes]:</span>
<span class="sd">            https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes</span>
<span class="sd">        [chat.postMessage]: https://api.slack.com/methods/chat.postMessage</span>
<span class="sd">        [chat.postEphemeral]: https://api.slack.com/methods/chat.postEphemeral</span>

<span class="sd">        Args:</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks)</span>
<span class="sd">            in_thread: `True/False` wether to reply to the original message in-thread</span>
<span class="sd">            ephemeral: `True/False` wether to send the message as an ephemeral message, only</span>
<span class="sd">                visible to the sender of the original message</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response,</span>
<span class="sd">                or [chat.postEphemeral](https://api.slack.com/methods/chat.postEphemeral) if `ephemeral` is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">in_thread</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ephemeral</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="n">thread_ts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_reply</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="n">ephemeral</span><span class="o">=</span><span class="n">ephemeral</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">reply_scheduled</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">in_thread</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Schedule a reply and send it</span>

<span class="sd">        This is the scheduled version of [`reply()`][machine.plugins.message.Message.reply].</span>
<span class="sd">        It behaves the same, but will send the reply at the scheduled time.</span>

<span class="sd">        Args:</span>
<span class="sd">            when: when you want the message to be sent, as :py:class:`datetime.datetime` instance</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">            in_thread: `True/False` wether to reply to the original message in-thread</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.scheduleMessage](https://api.slack.com/methods/chat.scheduleMessage)</span>
<span class="sd">                response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">in_thread</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">say_scheduled</span><span class="p">(</span>
                <span class="n">when</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="n">thread_ts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_reply</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">say_scheduled</span><span class="p">(</span><span class="n">when</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">reply_dm</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reply to the sender of the original message with a DM</span>

<span class="sd">        Reply in a Direct Message to the sender of the original message by opening a DM channel and</span>
<span class="sd">        sending a message to it. Allows for rich formatting using [blocks] and/or [attachments].</span>
<span class="sd">        You can provide blocks and attachments as Python dicts or you can use the</span>
<span class="sd">        [convenience classes] that the underlying slack client provides.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to the [chat.postMessage] request.</span>

<span class="sd">        [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">        [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">        [convenience classes]:</span>
<span class="sd">            https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes</span>
<span class="sd">        [chat.postMessage]: https://api.slack.com/methods/chat.postMessage</span>

<span class="sd">        Args:</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">reply_dm_scheduled</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Schedule a DM reply and send it</span>

<span class="sd">        This is the scheduled version of [`reply_dm()`][machine.plugins.message.Message.reply_dm].</span>
<span class="sd">        It behaves the same, but will send the DM at the scheduled time.</span>

<span class="sd">        Args:</span>
<span class="sd">            when: when you want the message to be sent, as :py:class:`datetime.datetime` instance</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.scheduleMessage](https://api.slack.com/methods/chat.scheduleMessage)</span>
<span class="sd">                response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm_scheduled</span><span class="p">(</span>
            <span class="n">when</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">react</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">emoji</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;React to the original message</span>

<span class="sd">        Add a reaction to the original message</span>

<span class="sd">        Args:</span>
<span class="sd">            emoji: what emoji to react with (should be a string, like &#39;angel&#39;, &#39;thumbsup&#39;, etc.)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [reactions.add](https://api.slack.com/methods/reactions.add) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">react</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_msg_event</span><span class="p">[</span><span class="s2">&quot;ts&quot;</span><span class="p">],</span> <span class="n">emoji</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_reply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_dm</span> <span class="ow">and</span> <span class="n">text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">at_sender</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">text</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">pin_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pin message</span>

<span class="sd">        Pin the current message in the channel it was posted in</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [pins.add](https://api.slack.com/methods/pins.add) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">pin_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">is_im</span><span class="p">:</span>
            <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Message &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;, sent by user @</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">real_name</span><span class="si">}</span><span class="s2"> in DM&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">message</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Message &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;, sent by user @</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">real_name</span><span class="si">}</span><span class="s2"> in channel #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">message</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Message(text=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="si">!r}</span><span class="s2">, sender=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">real_name</span><span class="si">!r}</span><span class="s2">, channel=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2">)&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.message.Message.sender" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">sender</span><span class="p">:</span> <span class="n">User</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The sender of the message</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the User the message was sent by</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.message.Message.channel" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The channel the message was sent to</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the Channel the message was sent to</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.message.Message.is_dm" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">is_dm</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Is the message a direct message</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True</code> if the message was <em>not</em> sent in a channel or group, <code>False</code> otherwise</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.message.Message.text" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">text</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The body of the actual message</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the body (text) of the actual message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.message.Message.at_sender" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">at_sender</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The sender of the message formatted as mention</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a string representation of the sender of the message, formatted as
<a href="https://api.slack.com/docs/message-formatting#linking_to_channels_and_users">mention</a>,
to be used in messages</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.message.Message.ts" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">ts</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The timestamp of the message</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the timestamp of the message</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.message.Message.in_thread" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">in_thread</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Is message in a thread</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the message is in a thread</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="machine.plugins.message.Message.say" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">thread_ts</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Send a new message to the channel the original message was received in</p>
<p>Send a new message to the channel the original message was received in, using the WebAPI.
Allows for rich formatting using <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a> and/or <a href="https://api.slack.com/docs/message-attachments">attachments</a>. You can provide blocks
and attachments as Python dicts or you can use the <a href="https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes">convenience classes</a> that the
underlying slack client provides.
Can also reply to a thread and send an ephemeral message only visible to the sender of the
original message. Ephemeral messages and threaded messages are mutually exclusive, and
<code>ephemeral</code> takes precedence over <code>thread_ts</code>
Any extra kwargs you provide, will be passed on directly to the <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> or
<a href="https://api.slack.com/methods/chat.postEphemeral">chat.postEphemeral</a> request.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>thread_ts</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional timestamp of thread, to send a message in that thread</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ephemeral</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> wether to send the message as an ephemeral message, only
visible to the sender of the original message</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> response,
or <a href="https://api.slack.com/methods/chat.postEphemeral">chat.postEphemeral</a> if <code>ephemeral</code> is True.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/message.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">say</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">thread_ts</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a new message to the channel the original message was received in</span>

<span class="sd">    Send a new message to the channel the original message was received in, using the WebAPI.</span>
<span class="sd">    Allows for rich formatting using [blocks] and/or [attachments]. You can provide blocks</span>
<span class="sd">    and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">    underlying slack client provides.</span>
<span class="sd">    Can also reply to a thread and send an ephemeral message only visible to the sender of the</span>
<span class="sd">    original message. Ephemeral messages and threaded messages are mutually exclusive, and</span>
<span class="sd">    `ephemeral` takes precedence over `thread_ts`</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to the [chat.postMessage] or</span>
<span class="sd">    [chat.postEphemeral] request.</span>

<span class="sd">    [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">    [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">    [convenience classes]:</span>
<span class="sd">        https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes</span>
<span class="sd">    [chat.postMessage]: https://api.slack.com/methods/chat.postMessage</span>
<span class="sd">    [chat.postEphemeral]: https://api.slack.com/methods/chat.postEphemeral</span>

<span class="sd">    Args:</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">        thread_ts: optional timestamp of thread, to send a message in that thread</span>
<span class="sd">        ephemeral: `True/False` wether to send the message as an ephemeral message, only</span>
<span class="sd">            visible to the sender of the original message</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response,</span>
<span class="sd">            or [chat.postEphemeral](https://api.slack.com/methods/chat.postEphemeral) if `ephemeral` is True.</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ephemeral_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="n">ephemeral</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
        <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span>
        <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span>
        <span class="n">thread_ts</span><span class="o">=</span><span class="n">thread_ts</span><span class="p">,</span>
        <span class="n">ephemeral_user</span><span class="o">=</span><span class="n">ephemeral_user</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.message.Message.say_scheduled" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">say_scheduled</span><span class="p">(</span><span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">thread_ts</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Schedule a message</p>
<p>This is the scheduled version of <a class="autorefs autorefs-internal" title="            say(text: str | None = None, attachments: Sequence[Attachment] | Sequence[dict[str, Any]] | None = None, blocks: Sequence[Block] | Sequence[dict[str, Any]] | None = None, thread_ts: str | None = None, ephemeral: bool = False, **kwargs: Any) -> AsyncSlackResponse

  
      async
  " href="#machine.plugins.message.Message.say"><code>say()</code></a>.
It behaves the same, but will send the message at the scheduled time.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>when</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="datetime.datetime" href="https://docs.python.org/dev/library/datetime.html#datetime.datetime">datetime</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>when you want the message to be sent, as <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/datetime.html#datetime.datetime"><code>datetime</code></a> instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>thread_ts</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional timestamp of thread, to send a message in that thread</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.scheduleMessage">chat.scheduleMessage</a>
response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/message.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">say_scheduled</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">thread_ts</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Schedule a message</span>

<span class="sd">    This is the scheduled version of [`say()`][machine.plugins.message.Message.say].</span>
<span class="sd">    It behaves the same, but will send the message at the scheduled time.</span>

<span class="sd">    Args:</span>
<span class="sd">        when: when you want the message to be sent, as [`datetime`][datetime.datetime] instance</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">        thread_ts: optional timestamp of thread, to send a message in that thread</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.scheduleMessage](https://api.slack.com/methods/chat.scheduleMessage)</span>
<span class="sd">            response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_scheduled</span><span class="p">(</span>
        <span class="n">when</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
        <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span>
        <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span>
        <span class="n">thread_ts</span><span class="o">=</span><span class="n">thread_ts</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.message.Message.reply" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">reply</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">in_thread</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Reply to the sender of the original message</p>
<p>Reply to the sender of the original message with a new message, mentioning that user. Rich
formatting using <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a> and/or <a href="https://api.slack.com/docs/message-attachments">attachments</a> is possible. You can provide blocks
and attachments as Python dicts or you can use the <a href="https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes">convenience classes</a> that the
underlying slack client provides.
Can also reply to a thread and send an ephemeral message only visible to the sender of the
original message. In the case of in-thread response, the sender of the original message
will not be mentioned. Ephemeral messages and threaded messages are mutually exclusive,
and <code>ephemeral</code> takes precedence over <code>in_thread</code>
Any extra kwargs you provide, will be passed on directly to the <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> or
<a href="https://api.slack.com/methods/chat.postEphemeral">chat.postEphemeral</a> request.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a></p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>in_thread</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> wether to reply to the original message in-thread</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ephemeral</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> wether to send the message as an ephemeral message, only
visible to the sender of the original message</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> response,
or <a href="https://api.slack.com/methods/chat.postEphemeral">chat.postEphemeral</a> if <code>ephemeral</code> is True.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/message.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">reply</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">in_thread</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reply to the sender of the original message</span>

<span class="sd">    Reply to the sender of the original message with a new message, mentioning that user. Rich</span>
<span class="sd">    formatting using [blocks] and/or [attachments] is possible. You can provide blocks</span>
<span class="sd">    and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">    underlying slack client provides.</span>
<span class="sd">    Can also reply to a thread and send an ephemeral message only visible to the sender of the</span>
<span class="sd">    original message. In the case of in-thread response, the sender of the original message</span>
<span class="sd">    will not be mentioned. Ephemeral messages and threaded messages are mutually exclusive,</span>
<span class="sd">    and `ephemeral` takes precedence over `in_thread`</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to the [chat.postMessage] or</span>
<span class="sd">    [chat.postEphemeral] request.</span>

<span class="sd">    [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">    [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">    [convenience classes]:</span>
<span class="sd">        https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes</span>
<span class="sd">    [chat.postMessage]: https://api.slack.com/methods/chat.postMessage</span>
<span class="sd">    [chat.postEphemeral]: https://api.slack.com/methods/chat.postEphemeral</span>

<span class="sd">    Args:</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks)</span>
<span class="sd">        in_thread: `True/False` wether to reply to the original message in-thread</span>
<span class="sd">        ephemeral: `True/False` wether to send the message as an ephemeral message, only</span>
<span class="sd">            visible to the sender of the original message</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response,</span>
<span class="sd">            or [chat.postEphemeral](https://api.slack.com/methods/chat.postEphemeral) if `ephemeral` is True.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">in_thread</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ephemeral</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="n">thread_ts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_reply</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="n">ephemeral</span><span class="o">=</span><span class="n">ephemeral</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.message.Message.reply_scheduled" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">reply_scheduled</span><span class="p">(</span><span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">in_thread</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Schedule a reply and send it</p>
<p>This is the scheduled version of <a class="autorefs autorefs-internal" title="            reply(text: str | None = None, attachments: Sequence[Attachment] | Sequence[dict[str, Any]] | None = None, blocks: Sequence[Block] | Sequence[dict[str, Any]] | None = None, in_thread: bool = False, ephemeral: bool = False, **kwargs: Any) -> AsyncSlackResponse

  
      async
  " href="#machine.plugins.message.Message.reply"><code>reply()</code></a>.
It behaves the same, but will send the reply at the scheduled time.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>when</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="datetime.datetime" href="https://docs.python.org/dev/library/datetime.html#datetime.datetime">datetime</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>when you want the message to be sent, as :py:class:<code>datetime.datetime</code> instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>in_thread</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> wether to reply to the original message in-thread</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.scheduleMessage">chat.scheduleMessage</a>
response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/message.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">reply_scheduled</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">in_thread</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Schedule a reply and send it</span>

<span class="sd">    This is the scheduled version of [`reply()`][machine.plugins.message.Message.reply].</span>
<span class="sd">    It behaves the same, but will send the reply at the scheduled time.</span>

<span class="sd">    Args:</span>
<span class="sd">        when: when you want the message to be sent, as :py:class:`datetime.datetime` instance</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">        in_thread: `True/False` wether to reply to the original message in-thread</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.scheduleMessage](https://api.slack.com/methods/chat.scheduleMessage)</span>
<span class="sd">            response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">in_thread</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">say_scheduled</span><span class="p">(</span>
            <span class="n">when</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="n">thread_ts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_reply</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">say_scheduled</span><span class="p">(</span><span class="n">when</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.message.Message.reply_dm" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">reply_dm</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Reply to the sender of the original message with a DM</p>
<p>Reply in a Direct Message to the sender of the original message by opening a DM channel and
sending a message to it. Allows for rich formatting using <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a> and/or <a href="https://api.slack.com/docs/message-attachments">attachments</a>.
You can provide blocks and attachments as Python dicts or you can use the
<a href="https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes">convenience classes</a> that the underlying slack client provides.
Any extra kwargs you provide, will be passed on directly to the <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> request.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/message.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">reply_dm</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reply to the sender of the original message with a DM</span>

<span class="sd">    Reply in a Direct Message to the sender of the original message by opening a DM channel and</span>
<span class="sd">    sending a message to it. Allows for rich formatting using [blocks] and/or [attachments].</span>
<span class="sd">    You can provide blocks and attachments as Python dicts or you can use the</span>
<span class="sd">    [convenience classes] that the underlying slack client provides.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to the [chat.postMessage] request.</span>

<span class="sd">    [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">    [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">    [convenience classes]:</span>
<span class="sd">        https://github.com/slackapi/python-slackclient/tree/master/slack/web/classes</span>
<span class="sd">    [chat.postMessage]: https://api.slack.com/methods/chat.postMessage</span>

<span class="sd">    Args:</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.message.Message.reply_dm_scheduled" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">reply_dm_scheduled</span><span class="p">(</span><span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Schedule a DM reply and send it</p>
<p>This is the scheduled version of <a class="autorefs autorefs-internal" title="            reply_dm(text: str | None = None, attachments: Sequence[Attachment] | Sequence[dict[str, Any]] | None = None, blocks: Sequence[Block] | Sequence[dict[str, Any]] | None = None, **kwargs: Any) -> AsyncSlackResponse

  
      async
  " href="#machine.plugins.message.Message.reply_dm"><code>reply_dm()</code></a>.
It behaves the same, but will send the DM at the scheduled time.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>when</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="datetime.datetime" href="https://docs.python.org/dev/library/datetime.html#datetime.datetime">datetime</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>when you want the message to be sent, as :py:class:<code>datetime.datetime</code> instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.scheduleMessage">chat.scheduleMessage</a>
response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/message.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">reply_dm_scheduled</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">when</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Schedule a DM reply and send it</span>

<span class="sd">    This is the scheduled version of [`reply_dm()`][machine.plugins.message.Message.reply_dm].</span>
<span class="sd">    It behaves the same, but will send the DM at the scheduled time.</span>

<span class="sd">    Args:</span>
<span class="sd">        when: when you want the message to be sent, as :py:class:`datetime.datetime` instance</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.scheduleMessage](https://api.slack.com/methods/chat.scheduleMessage)</span>
<span class="sd">            response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm_scheduled</span><span class="p">(</span>
        <span class="n">when</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.message.Message.react" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">react</span><span class="p">(</span><span class="n">emoji</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>React to the original message</p>
<p>Add a reaction to the original message</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>emoji</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>what emoji to react with (should be a string, like 'angel', 'thumbsup', etc.)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/reactions.add">reactions.add</a> response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/message.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">react</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">emoji</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;React to the original message</span>

<span class="sd">    Add a reaction to the original message</span>

<span class="sd">    Args:</span>
<span class="sd">        emoji: what emoji to react with (should be a string, like &#39;angel&#39;, &#39;thumbsup&#39;, etc.)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [reactions.add](https://api.slack.com/methods/reactions.add) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">react</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_msg_event</span><span class="p">[</span><span class="s2">&quot;ts&quot;</span><span class="p">],</span> <span class="n">emoji</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.message.Message.pin_message" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">pin_message</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Pin message</p>
<p>Pin the current message in the channel it was posted in</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/pins.add">pins.add</a> response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/message.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">pin_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pin message</span>

<span class="sd">    Pin the current message in the channel it was posted in</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [pins.add](https://api.slack.com/methods/pins.add) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">pin_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="machine.plugins.command.Command" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.plugins.command.Command</code>


</h3>


    <div class="doc doc-contents first">


        <p>A Slack command that was received by the bot</p>
<p>This class represents a Slack command that was received by the bot and passed to a plugin.
It contains the text that was included when the command was invoked, and metadata about
the command, such as the user that invoked the command, the channel the command was invoked
in.</p>
<p>The <code>Command</code> class also contains convenience methods for sending messages in the right
channel, opening modals etc.</p>







              <details class="quote">
                <summary>Source code in <code>src/machine/plugins/command.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Command</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A Slack command that was received by the bot</span>

<span class="sd">    This class represents a Slack command that was received by the bot and passed to a plugin.</span>
<span class="sd">    It contains the text that was included when the command was invoked, and metadata about</span>
<span class="sd">    the command, such as the user that invoked the command, the channel the command was invoked</span>
<span class="sd">    in.</span>

<span class="sd">    The `Command` class also contains convenience methods for sending messages in the right</span>
<span class="sd">    channel, opening modals etc.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># TODO: create proper class for cmd_event</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">SlackClient</span><span class="p">,</span> <span class="n">cmd_payload</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cmd_payload</span> <span class="o">=</span> <span class="n">cmd_payload</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_webhook_client</span> <span class="o">=</span> <span class="n">AsyncWebhookClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cmd_payload</span><span class="p">[</span><span class="s2">&quot;response_url&quot;</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sender</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The user that invoked the command</span>

<span class="sd">        Returns:</span>
<span class="sd">            the User that invoked the command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">users</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_cmd_payload</span><span class="p">[</span><span class="s2">&quot;user_id&quot;</span><span class="p">]]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">channel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Channel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The channel the command was invoked in</span>

<span class="sd">        Returns:</span>
<span class="sd">            the Channel the command was invoked in</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_cmd_payload</span><span class="p">[</span><span class="s2">&quot;channel_id&quot;</span><span class="p">]]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_dm</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Whether the command was invoked in a DM</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the message was _not_ invoked in a channel or group, `False` otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">channel_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cmd_payload</span><span class="p">[</span><span class="s2">&quot;channel_id&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="p">(</span><span class="n">channel_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;C&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">channel_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;G&quot;</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The body of the command (i.e. anything after the command itself)</span>

<span class="sd">        Returns:</span>
<span class="sd">            the body (text) of the command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cmd_payload</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The command that was invoked</span>

<span class="sd">        Returns:</span>
<span class="sd">            the command that was invoked</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cmd_payload</span><span class="p">[</span><span class="s2">&quot;command&quot;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">response_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The response url associated with the command</span>

<span class="sd">        This is a unique url for this specific command invocation.</span>
<span class="sd">        It can be used for sending messages in response to the command.</span>
<span class="sd">        This can only be used 5 times within 30 minutes of receiving the payload.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the response url associated with the command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cmd_payload</span><span class="p">[</span><span class="s2">&quot;response_url&quot;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">trigger_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The trigger id associated with the command</span>

<span class="sd">        The trigger id can be used to trigger modals</span>

<span class="sd">        Note:</span>
<span class="sd">            The `trigger_id` is only valid for 3 seconds after the modal was submitted.</span>

<span class="sd">            You can use [`open_modal`][machine.plugins.command.Command.open_modal] to open a modal instead of using</span>
<span class="sd">            the `trigger_id` directly.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the trigger id associated with the command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cmd_payload</span><span class="p">[</span><span class="s2">&quot;trigger_id&quot;</span><span class="p">]</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">say</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebhookResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a new message to the channel the command was invoked in</span>

<span class="sd">        Send a new message to the channel the command was invoked in, using the response_url as a webhook.</span>
<span class="sd">        Allows for rich formatting using [blocks] and/or [attachments] . You can provide blocks</span>
<span class="sd">        and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">        underlying slack client provides.</span>
<span class="sd">        This will send an ephemeral message by default, only visible to the user that invoked the command.</span>
<span class="sd">        You can set `ephemeral` to `False` to make the message visible to everyone in the channel</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to `AsyncWebhookClient.send()`</span>

<span class="sd">        [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">        [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">        [convenience classes]: https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes</span>

<span class="sd">        Args:</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">            ephemeral: `True/False` wether to send the message as an ephemeral message, only</span>
<span class="sd">                visible to the sender of the original message</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from `AsyncWebhookClient.send()`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response_type</span> <span class="o">=</span> <span class="s2">&quot;ephemeral&quot;</span> <span class="k">if</span> <span class="n">ephemeral</span> <span class="k">else</span> <span class="s2">&quot;in_channel&quot;</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webhook_client</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="n">response_type</span><span class="o">=</span><span class="n">response_type</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">open_modal</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a modal in response to the command</span>

<span class="sd">        Open a modal in response to the command, using the trigger_id that was returned when the command was invoked.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to `AsyncWebClient.views_open()`</span>

<span class="sd">        Note:</span>
<span class="sd">            You have to call this method within 3 seconds of receiving the command payload.</span>

<span class="sd">        Args:</span>
<span class="sd">            view: the view to open</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from `AsyncWebClient.views_open()`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">open_modal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.command.Command.sender" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">sender</span><span class="p">:</span> <span class="n">User</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The user that invoked the command</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the User that invoked the command</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.command.Command.channel" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The channel the command was invoked in</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the Channel the command was invoked in</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.command.Command.is_dm" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">is_dm</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Whether the command was invoked in a DM</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True</code> if the message was <em>not</em> invoked in a channel or group, <code>False</code> otherwise</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.command.Command.text" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">text</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The body of the command (i.e. anything after the command itself)</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the body (text) of the command</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.command.Command.command" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">command</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The command that was invoked</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the command that was invoked</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.command.Command.response_url" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">response_url</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The response url associated with the command</p>
<p>This is a unique url for this specific command invocation.
It can be used for sending messages in response to the command.
This can only be used 5 times within 30 minutes of receiving the payload.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the response url associated with the command</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.command.Command.trigger_id" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">trigger_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The trigger id associated with the command</p>
<p>The trigger id can be used to trigger modals</p>


<details class="note" open>
  <summary>Note</summary>
  <p>The <code>trigger_id</code> is only valid for 3 seconds after the modal was submitted.</p>
<p>You can use <a class="autorefs autorefs-internal" title="            open_modal(view: dict | View, **kwargs: Any) -> AsyncSlackResponse

  
      async
  " href="#machine.plugins.command.Command.open_modal"><code>open_modal</code></a> to open a modal instead of using
the <code>trigger_id</code> directly.</p>
</details>

    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the trigger id associated with the command</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="machine.plugins.command.Command.say" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebhookResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Send a new message to the channel the command was invoked in</p>
<p>Send a new message to the channel the command was invoked in, using the response_url as a webhook.
Allows for rich formatting using <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a> and/or <a href="https://api.slack.com/docs/message-attachments">attachments</a> . You can provide blocks
and attachments as Python dicts or you can use the <a href="https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes">convenience classes</a> that the
underlying slack client provides.
This will send an ephemeral message by default, only visible to the user that invoked the command.
You can set <code>ephemeral</code> to <code>False</code> to make the message visible to everyone in the channel
Any extra kwargs you provide, will be passed on directly to <code>AsyncWebhookClient.send()</code></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ephemeral</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> wether to send the message as an ephemeral message, only
visible to the sender of the original message</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.webhook.WebhookResponse">WebhookResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <code>AsyncWebhookClient.send()</code></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/command.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">say</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebhookResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a new message to the channel the command was invoked in</span>

<span class="sd">    Send a new message to the channel the command was invoked in, using the response_url as a webhook.</span>
<span class="sd">    Allows for rich formatting using [blocks] and/or [attachments] . You can provide blocks</span>
<span class="sd">    and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">    underlying slack client provides.</span>
<span class="sd">    This will send an ephemeral message by default, only visible to the user that invoked the command.</span>
<span class="sd">    You can set `ephemeral` to `False` to make the message visible to everyone in the channel</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to `AsyncWebhookClient.send()`</span>

<span class="sd">    [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">    [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">    [convenience classes]: https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes</span>

<span class="sd">    Args:</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">        ephemeral: `True/False` wether to send the message as an ephemeral message, only</span>
<span class="sd">            visible to the sender of the original message</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from `AsyncWebhookClient.send()`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response_type</span> <span class="o">=</span> <span class="s2">&quot;ephemeral&quot;</span> <span class="k">if</span> <span class="n">ephemeral</span> <span class="k">else</span> <span class="s2">&quot;in_channel&quot;</span>

    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webhook_client</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="n">response_type</span><span class="o">=</span><span class="n">response_type</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.command.Command.open_modal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">open_modal</span><span class="p">(</span><span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Open a modal in response to the command</p>
<p>Open a modal in response to the command, using the trigger_id that was returned when the command was invoked.
Any extra kwargs you provide, will be passed on directly to <code>AsyncWebClient.views_open()</code></p>


<details class="note" open>
  <summary>Note</summary>
  <p>You have to call this method within 3 seconds of receiving the command payload.</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>view</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a> | <span title="slack_sdk.models.views.View">View</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the view to open</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <code>AsyncWebClient.views_open()</code></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/command.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">open_modal</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Open a modal in response to the command</span>

<span class="sd">    Open a modal in response to the command, using the trigger_id that was returned when the command was invoked.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to `AsyncWebClient.views_open()`</span>

<span class="sd">    Note:</span>
<span class="sd">        You have to call this method within 3 seconds of receiving the command payload.</span>

<span class="sd">    Args:</span>
<span class="sd">        view: the view to open</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from `AsyncWebClient.views_open()`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">open_modal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="machine.plugins.block_action.BlockAction" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.plugins.block_action.BlockAction</code>


</h3>


    <div class="doc doc-contents first">


        <p>A Slack block action that was received by the bot</p>
<p>This class represents a block action that was received by the bot and passed to a plugin.
Block actions are actions that are triggered by interactions with blocks in Slack messages and modals.
This class contains metadata about the block action, such as the action that happened that triggered this handler,
the user that triggered the action, the state of the block when the action was triggered, the payload that was
received when the action was triggered.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            payload: BlockActionsPayload = payload

  
      instance-attribute
   (machine.plugins.block_action.BlockAction.payload)" href="#machine.plugins.block_action.BlockAction.payload">payload</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.interactive.BlockActionsPayload" href="#machine.models.interactive.BlockActionsPayload">BlockActionsPayload</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The payload that was received by the bot when the action was triggered that this
plugin method listens for</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            triggered_action: Action = triggered_action

  
      instance-attribute
   (machine.plugins.block_action.BlockAction.triggered_action)" href="#machine.plugins.block_action.BlockAction.triggered_action">triggered_action</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.interactive.Action = Annotated[Union[RadioButtonsAction, ButtonAction, CheckboxAction, DatepickerAction, StaticSelectAction, ChannelSelectAction, ConversationSelectAction, UserSelectAction, ExternalSelectAction, MultiStaticSelectAction, MultiChannelSelectAction, MultiConversationSelectAction, MultiUserSelectAction, MultiExternalSelectAction, TimepickerAction, UrlAction, OverflowAction, PlainTextInputAction, RichTextInputAction], Field(discriminator='type')]

  
      module-attribute
   (machine.models.interactive.Action)" href="#machine.models.interactive.Action">Action</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The action that triggered this plugin method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>src/machine/plugins/block_action.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BlockAction</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A Slack block action that was received by the bot</span>

<span class="sd">    This class represents a block action that was received by the bot and passed to a plugin.</span>
<span class="sd">    Block actions are actions that are triggered by interactions with blocks in Slack messages and modals.</span>
<span class="sd">    This class contains metadata about the block action, such as the action that happened that triggered this handler,</span>
<span class="sd">    the user that triggered the action, the state of the block when the action was triggered, the payload that was</span>
<span class="sd">    received when the action was triggered.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        payload: The payload that was received by the bot when the action was triggered that this</span>
<span class="sd">            plugin method listens for</span>
<span class="sd">        triggered_action: The action that triggered this plugin method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">payload</span><span class="p">:</span> <span class="n">BlockActionsPayload</span>
    <span class="n">triggered_action</span><span class="p">:</span> <span class="n">Action</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">SlackClient</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">BlockActionsPayload</span><span class="p">,</span> <span class="n">triggered_action</span><span class="p">:</span> <span class="n">Action</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The payload that was received by the bot when the action was triggered that this plugin method listens for&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">triggered_action</span> <span class="o">=</span> <span class="n">triggered_action</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The action that triggered this plugin method&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_webhook_client</span> <span class="o">=</span> <span class="n">AsyncWebhookClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">response_url</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">response_url</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">user</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The user that triggered the action</span>

<span class="sd">        Returns:</span>
<span class="sd">            the user that triggered the action</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">users</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">channel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Channel</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The channel the action was triggered in</span>

<span class="sd">        Returns:</span>
<span class="sd">            the channel the action was triggered in or None if the action was triggered in a modal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">channel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">id</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">State</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The state of the block when the action was triggered</span>

<span class="sd">        Returns:</span>
<span class="sd">            the state of the block when the action was triggered</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">state</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">response_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The response URL for the action</span>

<span class="sd">        Returns:</span>
<span class="sd">            the response URL for the action or `None` if the action was triggered in a modal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">response_url</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">trigger_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The trigger id associated with the action</span>

<span class="sd">        The trigger id can be used to open a modal</span>

<span class="sd">        Note:</span>
<span class="sd">            The `trigger_id` is only valid for 3 seconds after the modal was submitted.</span>

<span class="sd">            You can use [`open_modal`][machine.plugins.block_action.BlockAction.open_modal] to open a modal instead of</span>
<span class="sd">            using the `trigger_id` directly.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the trigger id for the action</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">trigger_id</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">say</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">],</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">],</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">replace_original</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">delete_original</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebhookResponse</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a new message to the channel the block action was triggered in</span>

<span class="sd">        Send a new message to the channel the block action was triggered in, using the response_url as a webhook.</span>
<span class="sd">        If the block action happened in a modal, the response_url will be None and this method will not send a message</span>
<span class="sd">        but instead log a warning.</span>
<span class="sd">        Allows for rich formatting using [blocks] and/or [attachments]. You can provide blocks</span>
<span class="sd">        and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">        underlying slack client provides.</span>
<span class="sd">        This will send an ephemeral message by default, only visible to the user that triggered the action.</span>
<span class="sd">        You can set `ephemeral` to `False` to make the message visible to everyone in the channel.</span>
<span class="sd">        By default, Slack replaces the original message in which the action was triggered. This method overrides this</span>
<span class="sd">        behavior. If you want your message to replace the original, set replace_original to True.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to `AsyncWebhookClient.send()`</span>

<span class="sd">        [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">        [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">        [convenience classes]: https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes</span>

<span class="sd">        Args:</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            ephemeral: `True/False` wether to send the message as an ephemeral message, only</span>
<span class="sd">                visible to the user that initiated the action</span>
<span class="sd">            replace_original: `True/False` whether the message that contains the block from which the action was</span>
<span class="sd">                triggered should be replaced by this message</span>
<span class="sd">            delete_original: `True/False` whether the message that contains the block from which the action was</span>
<span class="sd">                triggered should be deleted. No other parameters should be provided.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from `AsyncWebhookClient.send()`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webhook_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;response_url is None, cannot send message. This likely means the action was triggered in a modal.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">response_type</span> <span class="o">=</span> <span class="s2">&quot;ephemeral&quot;</span> <span class="k">if</span> <span class="n">ephemeral</span> <span class="k">else</span> <span class="s2">&quot;in_channel&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webhook_client</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
            <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span>
            <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span>
            <span class="n">response_type</span><span class="o">=</span><span class="n">response_type</span><span class="p">,</span>
            <span class="n">replace_original</span><span class="o">=</span><span class="n">replace_original</span><span class="p">,</span>
            <span class="n">delete_original</span><span class="o">=</span><span class="n">delete_original</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">send_dm</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a DM to the user that triggered the block action</span>

<span class="sd">        Send a Direct Message to the user that triggered the block action by opening a DM channel and</span>
<span class="sd">        sending a message to it.</span>
<span class="sd">        Allows for rich formatting using [blocks] and/or [attachments]. You can provide blocks</span>
<span class="sd">        and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">        underlying slack client provides.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to the `chat.postMessage` request.</span>

<span class="sd">        [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">        [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">        [convenience classes]: https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes</span>

<span class="sd">        Args:</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">open_modal</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a modal in response to the block action</span>

<span class="sd">        Open a modal in response to the block action, using the trigger_id that was returned when the block action was</span>
<span class="sd">        triggered.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to</span>
<span class="sd">        [views.open](https://api.slack.com/methods/views.open)</span>

<span class="sd">        Note:</span>
<span class="sd">            You have to call this method within 3 seconds of receiving the block action payload.</span>

<span class="sd">        Args:</span>
<span class="sd">            view: the view to open</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [views.open](https://api.slack.com/methods/views.open)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">open_modal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.block_action.BlockAction.payload" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">payload</span><span class="p">:</span> <span class="n">BlockActionsPayload</span> <span class="o">=</span> <span class="n">payload</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The payload that was received by the bot when the action was triggered that this plugin method listens for</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.block_action.BlockAction.triggered_action" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">triggered_action</span><span class="p">:</span> <span class="n">Action</span> <span class="o">=</span> <span class="n">triggered_action</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The action that triggered this plugin method</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.block_action.BlockAction.user" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">user</span><span class="p">:</span> <span class="n">User</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The user that triggered the action</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the user that triggered the action</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.block_action.BlockAction.channel" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The channel the action was triggered in</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.channel.Channel (machine.models.Channel)" href="#machine.models.channel.Channel">Channel</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the channel the action was triggered in or None if the action was triggered in a modal</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.block_action.BlockAction.state" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">state</span><span class="p">:</span> <span class="n">State</span> <span class="o">|</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The state of the block when the action was triggered</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.interactive.State" href="#machine.models.interactive.State">State</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the state of the block when the action was triggered</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.block_action.BlockAction.response_url" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">response_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The response URL for the action</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the response URL for the action or <code>None</code> if the action was triggered in a modal</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.block_action.BlockAction.trigger_id" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">trigger_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The trigger id associated with the action</p>
<p>The trigger id can be used to open a modal</p>


<details class="note" open>
  <summary>Note</summary>
  <p>The <code>trigger_id</code> is only valid for 3 seconds after the modal was submitted.</p>
<p>You can use <a class="autorefs autorefs-internal" title="            open_modal(view: dict | View, **kwargs: Any) -> AsyncSlackResponse

  
      async
  " href="#machine.plugins.block_action.BlockAction.open_modal"><code>open_modal</code></a> to open a modal instead of
using the <code>trigger_id</code> directly.</p>
</details>

    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the trigger id for the action</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="machine.plugins.block_action.BlockAction.say" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">],</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">],</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">replace_original</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">delete_original</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebhookResponse</span> <span class="o">|</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Send a new message to the channel the block action was triggered in</p>
<p>Send a new message to the channel the block action was triggered in, using the response_url as a webhook.
If the block action happened in a modal, the response_url will be None and this method will not send a message
but instead log a warning.
Allows for rich formatting using <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a> and/or <a href="https://api.slack.com/docs/message-attachments">attachments</a>. You can provide blocks
and attachments as Python dicts or you can use the <a href="https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes">convenience classes</a> that the
underlying slack client provides.
This will send an ephemeral message by default, only visible to the user that triggered the action.
You can set <code>ephemeral</code> to <code>False</code> to make the message visible to everyone in the channel.
By default, Slack replaces the original message in which the action was triggered. This method overrides this
behavior. If you want your message to replace the original, set replace_original to True.
Any extra kwargs you provide, will be passed on directly to <code>AsyncWebhookClient.send()</code></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/dev/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>], <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/dev/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>], <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/docs/message-attachments">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ephemeral</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> wether to send the message as an ephemeral message, only
visible to the user that initiated the action</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>replace_original</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> whether the message that contains the block from which the action was
triggered should be replaced by this message</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>delete_original</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> whether the message that contains the block from which the action was
triggered should be deleted. No other parameters should be provided.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.webhook.WebhookResponse">WebhookResponse</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <code>AsyncWebhookClient.send()</code></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/block_action.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">say</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">],</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">],</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">replace_original</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">delete_original</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebhookResponse</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a new message to the channel the block action was triggered in</span>

<span class="sd">    Send a new message to the channel the block action was triggered in, using the response_url as a webhook.</span>
<span class="sd">    If the block action happened in a modal, the response_url will be None and this method will not send a message</span>
<span class="sd">    but instead log a warning.</span>
<span class="sd">    Allows for rich formatting using [blocks] and/or [attachments]. You can provide blocks</span>
<span class="sd">    and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">    underlying slack client provides.</span>
<span class="sd">    This will send an ephemeral message by default, only visible to the user that triggered the action.</span>
<span class="sd">    You can set `ephemeral` to `False` to make the message visible to everyone in the channel.</span>
<span class="sd">    By default, Slack replaces the original message in which the action was triggered. This method overrides this</span>
<span class="sd">    behavior. If you want your message to replace the original, set replace_original to True.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to `AsyncWebhookClient.send()`</span>

<span class="sd">    [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">    [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">    [convenience classes]: https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes</span>

<span class="sd">    Args:</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        ephemeral: `True/False` wether to send the message as an ephemeral message, only</span>
<span class="sd">            visible to the user that initiated the action</span>
<span class="sd">        replace_original: `True/False` whether the message that contains the block from which the action was</span>
<span class="sd">            triggered should be replaced by this message</span>
<span class="sd">        delete_original: `True/False` whether the message that contains the block from which the action was</span>
<span class="sd">            triggered should be deleted. No other parameters should be provided.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from `AsyncWebhookClient.send()`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webhook_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;response_url is None, cannot send message. This likely means the action was triggered in a modal.&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">response_type</span> <span class="o">=</span> <span class="s2">&quot;ephemeral&quot;</span> <span class="k">if</span> <span class="n">ephemeral</span> <span class="k">else</span> <span class="s2">&quot;in_channel&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webhook_client</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
        <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span>
        <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span>
        <span class="n">response_type</span><span class="o">=</span><span class="n">response_type</span><span class="p">,</span>
        <span class="n">replace_original</span><span class="o">=</span><span class="n">replace_original</span><span class="p">,</span>
        <span class="n">delete_original</span><span class="o">=</span><span class="n">delete_original</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.block_action.BlockAction.send_dm" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">send_dm</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Send a DM to the user that triggered the block action</p>
<p>Send a Direct Message to the user that triggered the block action by opening a DM channel and
sending a message to it.
Allows for rich formatting using <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a> and/or <a href="https://api.slack.com/docs/message-attachments">attachments</a>. You can provide blocks
and attachments as Python dicts or you can use the <a href="https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes">convenience classes</a> that the
underlying slack client provides.
Any extra kwargs you provide, will be passed on directly to the <code>chat.postMessage</code> request.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/block_action.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">send_dm</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a DM to the user that triggered the block action</span>

<span class="sd">    Send a Direct Message to the user that triggered the block action by opening a DM channel and</span>
<span class="sd">    sending a message to it.</span>
<span class="sd">    Allows for rich formatting using [blocks] and/or [attachments]. You can provide blocks</span>
<span class="sd">    and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">    underlying slack client provides.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to the `chat.postMessage` request.</span>

<span class="sd">    [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">    [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">    [convenience classes]: https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes</span>

<span class="sd">    Args:</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.block_action.BlockAction.open_modal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">open_modal</span><span class="p">(</span><span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Open a modal in response to the block action</p>
<p>Open a modal in response to the block action, using the trigger_id that was returned when the block action was
triggered.
Any extra kwargs you provide, will be passed on directly to
<a href="https://api.slack.com/methods/views.open">views.open</a></p>


<details class="note" open>
  <summary>Note</summary>
  <p>You have to call this method within 3 seconds of receiving the block action payload.</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>view</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a> | <span title="slack_sdk.models.views.View">View</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the view to open</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/views.open">views.open</a></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/block_action.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">open_modal</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">View</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Open a modal in response to the block action</span>

<span class="sd">    Open a modal in response to the block action, using the trigger_id that was returned when the block action was</span>
<span class="sd">    triggered.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to</span>
<span class="sd">    [views.open](https://api.slack.com/methods/views.open)</span>

<span class="sd">    Note:</span>
<span class="sd">        You have to call this method within 3 seconds of receiving the block action payload.</span>

<span class="sd">    Args:</span>
<span class="sd">        view: the view to open</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [views.open](https://api.slack.com/methods/views.open)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">open_modal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="machine.plugins.modals.ModalSubmission" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.plugins.modals.ModalSubmission</code>


</h3>


    <div class="doc doc-contents first">


        <p>A Slack modal submission that was received by the bot</p>
<p>This class represents a modal submission that was received by the bot and passed to a plugin.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="machine.plugins.modals.ModalSubmission.payload">payload</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.interactive.ViewSubmissionPayload" href="#machine.models.interactive.ViewSubmissionPayload">ViewSubmissionPayload</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The payload that was received by the bot when the modal was submitted</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>src/machine/plugins/modals.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ModalSubmission</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A Slack modal submission that was received by the bot</span>

<span class="sd">    This class represents a modal submission that was received by the bot and passed to a plugin.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        payload: The payload that was received by the bot when the modal was submitted</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">payload</span><span class="p">:</span> <span class="n">ViewSubmissionPayload</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">SlackClient</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">ViewSubmissionPayload</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">user</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The user that submitted the modal</span>

<span class="sd">        Returns:</span>
<span class="sd">            the user that submitted the modal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">users</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">view</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">View</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The view that was submitted including the state of all the elements in the view</span>

<span class="sd">        Returns:</span>
<span class="sd">            the view that was submitted</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">view</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">trigger_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The trigger id associated with the submitted modal</span>

<span class="sd">        The trigger id can be used to open another modal</span>

<span class="sd">        Note:</span>
<span class="sd">            The trigger id is only valid for 3 seconds after the modal was submitted.</span>

<span class="sd">            You can use [`open_modal()`][machine.plugins.modals.ModalSubmission.open_modal] to open a modal instead of</span>
<span class="sd">            using the `trigger_id` directly.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the trigger id for the modal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">trigger_id</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">open_modal</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">SlackSDKView</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Open another modal in response to the modal submission</span>

<span class="sd">        Open another modal in response to modal submission, using the trigger_id that was returned when the modal was</span>
<span class="sd">        submitted.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to</span>
<span class="sd">        [views.open](https://api.slack.com/methods/views.open)</span>

<span class="sd">        Note:</span>
<span class="sd">            You have to call this method within 3 seconds of receiving the modal submission payload.</span>

<span class="sd">        Args:</span>
<span class="sd">            view: the view to open</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [views.open](https://api.slack.com/methods/views.open)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">open_modal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">push_modal</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">SlackSDKView</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Push a new modal view in response to the modal submission</span>

<span class="sd">        Push a new modal view on top of the view stack in response to modal submission, using the trigger_id that was</span>
<span class="sd">        returned when the modal was submitted.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to</span>
<span class="sd">        [views.push](https://api.slack.com/methods/views.push)</span>

<span class="sd">        Note:</span>
<span class="sd">            You have to call this method within 3 seconds of receiving the modal submission payload.</span>

<span class="sd">        Args:</span>
<span class="sd">            view: the view to push</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [views.push](https://api.slack.com/methods/views.push)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">push_modal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">update_modal</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">SlackSDKView</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the modal view in response to the modal submission</span>

<span class="sd">        Update the modal view in response to modal submission, using the trigger_id that was returned when the modal was</span>
<span class="sd">        submitted.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to</span>
<span class="sd">        [views.update](https://api.slack.com/methods/views.update)</span>

<span class="sd">        Note:</span>
<span class="sd">            You have to call this method within 3 seconds of receiving the modal submission payload.</span>

<span class="sd">        Args:</span>
<span class="sd">            view: the view to update</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [views.update](https://api.slack.com/methods/views.update)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">update_modal</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">external_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">send_dm</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a DM to the user that submitted the modal</span>

<span class="sd">        Send a Direct Message to the user that submitted the modal by opening a DM channel and</span>
<span class="sd">        sending a message to it.</span>
<span class="sd">        Allows for rich formatting using [blocks] and/or [attachments] . You can provide blocks</span>
<span class="sd">        and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">        underlying slack client provides.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to the</span>
<span class="sd">        [chat.postMessage](https://api.slack.com/methods/chat.postMessage) request.</span>

<span class="sd">        [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">        [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">        [convenience classes]: https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes</span>

<span class="sd">        Args:</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.modals.ModalSubmission.user" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">user</span><span class="p">:</span> <span class="n">User</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The user that submitted the modal</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the user that submitted the modal</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.modals.ModalSubmission.view" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">view</span><span class="p">:</span> <span class="n">View</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The view that was submitted including the state of all the elements in the view</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.interactive.View" href="#machine.models.interactive.View">View</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the view that was submitted</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.modals.ModalSubmission.trigger_id" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">trigger_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The trigger id associated with the submitted modal</p>
<p>The trigger id can be used to open another modal</p>


<details class="note" open>
  <summary>Note</summary>
  <p>The trigger id is only valid for 3 seconds after the modal was submitted.</p>
<p>You can use <a class="autorefs autorefs-internal" title="            open_modal(view: dict | SlackSDKView, **kwargs: Any) -> AsyncSlackResponse

  
      async
  " href="#machine.plugins.modals.ModalSubmission.open_modal"><code>open_modal()</code></a> to open a modal instead of
using the <code>trigger_id</code> directly.</p>
</details>

    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the trigger id for the modal</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="machine.plugins.modals.ModalSubmission.open_modal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">open_modal</span><span class="p">(</span><span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">SlackSDKView</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Open another modal in response to the modal submission</p>
<p>Open another modal in response to modal submission, using the trigger_id that was returned when the modal was
submitted.
Any extra kwargs you provide, will be passed on directly to
<a href="https://api.slack.com/methods/views.open">views.open</a></p>


<details class="note" open>
  <summary>Note</summary>
  <p>You have to call this method within 3 seconds of receiving the modal submission payload.</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>view</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a> | <span title="slack_sdk.models.views.View">View</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the view to open</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/views.open">views.open</a></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/modals.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">open_modal</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">SlackSDKView</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Open another modal in response to the modal submission</span>

<span class="sd">    Open another modal in response to modal submission, using the trigger_id that was returned when the modal was</span>
<span class="sd">    submitted.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to</span>
<span class="sd">    [views.open](https://api.slack.com/methods/views.open)</span>

<span class="sd">    Note:</span>
<span class="sd">        You have to call this method within 3 seconds of receiving the modal submission payload.</span>

<span class="sd">    Args:</span>
<span class="sd">        view: the view to open</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [views.open](https://api.slack.com/methods/views.open)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">open_modal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.modals.ModalSubmission.push_modal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">push_modal</span><span class="p">(</span><span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">SlackSDKView</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Push a new modal view in response to the modal submission</p>
<p>Push a new modal view on top of the view stack in response to modal submission, using the trigger_id that was
returned when the modal was submitted.
Any extra kwargs you provide, will be passed on directly to
<a href="https://api.slack.com/methods/views.push">views.push</a></p>


<details class="note" open>
  <summary>Note</summary>
  <p>You have to call this method within 3 seconds of receiving the modal submission payload.</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>view</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a> | <span title="slack_sdk.models.views.View">View</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the view to push</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/views.push">views.push</a></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/modals.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">push_modal</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">SlackSDKView</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Push a new modal view in response to the modal submission</span>

<span class="sd">    Push a new modal view on top of the view stack in response to modal submission, using the trigger_id that was</span>
<span class="sd">    returned when the modal was submitted.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to</span>
<span class="sd">    [views.push](https://api.slack.com/methods/views.push)</span>

<span class="sd">    Note:</span>
<span class="sd">        You have to call this method within 3 seconds of receiving the modal submission payload.</span>

<span class="sd">    Args:</span>
<span class="sd">        view: the view to push</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [views.push](https://api.slack.com/methods/views.push)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">push_modal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.modals.ModalSubmission.update_modal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">update_modal</span><span class="p">(</span><span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">SlackSDKView</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Update the modal view in response to the modal submission</p>
<p>Update the modal view in response to modal submission, using the trigger_id that was returned when the modal was
submitted.
Any extra kwargs you provide, will be passed on directly to
<a href="https://api.slack.com/methods/views.update">views.update</a></p>


<details class="note" open>
  <summary>Note</summary>
  <p>You have to call this method within 3 seconds of receiving the modal submission payload.</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>view</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a> | <span title="slack_sdk.models.views.View">View</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the view to update</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/views.update">views.update</a></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/modals.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">update_modal</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">view</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">SlackSDKView</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the modal view in response to the modal submission</span>

<span class="sd">    Update the modal view in response to modal submission, using the trigger_id that was returned when the modal was</span>
<span class="sd">    submitted.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to</span>
<span class="sd">    [views.update](https://api.slack.com/methods/views.update)</span>

<span class="sd">    Note:</span>
<span class="sd">        You have to call this method within 3 seconds of receiving the modal submission payload.</span>

<span class="sd">    Args:</span>
<span class="sd">        view: the view to update</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [views.update](https://api.slack.com/methods/views.update)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">update_modal</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">external_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.modals.ModalSubmission.send_dm" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">send_dm</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Send a DM to the user that submitted the modal</p>
<p>Send a Direct Message to the user that submitted the modal by opening a DM channel and
sending a message to it.
Allows for rich formatting using <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a> and/or <a href="https://api.slack.com/docs/message-attachments">attachments</a> . You can provide blocks
and attachments as Python dicts or you can use the <a href="https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes">convenience classes</a> that the
underlying slack client provides.
Any extra kwargs you provide, will be passed on directly to the
<a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> request.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="slack_sdk.web.async_slack_response.AsyncSlackResponse">AsyncSlackResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary deserialized from <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/modals.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">send_dm</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a DM to the user that submitted the modal</span>

<span class="sd">    Send a Direct Message to the user that submitted the modal by opening a DM channel and</span>
<span class="sd">    sending a message to it.</span>
<span class="sd">    Allows for rich formatting using [blocks] and/or [attachments] . You can provide blocks</span>
<span class="sd">    and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">    underlying slack client provides.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to the</span>
<span class="sd">    [chat.postMessage](https://api.slack.com/methods/chat.postMessage) request.</span>

<span class="sd">    [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">    [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">    [convenience classes]: https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes</span>

<span class="sd">    Args:</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="machine.plugins.modals.ModalClosure" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.plugins.modals.ModalClosure</code>


</h3>


    <div class="doc doc-contents first">


        <p>A Slack modal closure that was received by the bot</p>
<p>This class represents the closure (cancellation) of a modal that was received by the bot and passed to a plugin.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="machine.plugins.modals.ModalClosure.payload">payload</span></code></td>
            <td>
                  <code><span title="machine.models.interactive.ViewClosedPayload">ViewClosedPayload</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The payload that was received by the bot when the modal was closed</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>src/machine/plugins/modals.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ModalClosure</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A Slack modal closure that was received by the bot</span>

<span class="sd">    This class represents the closure (cancellation) of a modal that was received by the bot and passed to a plugin.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        payload: The payload that was received by the bot when the modal was closed</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">payload</span><span class="p">:</span> <span class="n">ViewClosedPayload</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">SlackClient</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">ViewClosedPayload</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">user</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The user that closed the modal</span>

<span class="sd">        Returns:</span>
<span class="sd">            the user that closed the modal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">users</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">view</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">View</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The view that was closed including the state of all the elements in the view when it was closed</span>

<span class="sd">        Returns:</span>
<span class="sd">            the view that was closed</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">view</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">send_dm</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a DM to the user that closed the modal</span>

<span class="sd">        Send a Direct Message to the user that closed the modal by opening a DM channel and</span>
<span class="sd">        sending a message to it.</span>
<span class="sd">        Allows for rich formatting using [blocks] and/or [attachments] . You can provide blocks</span>
<span class="sd">        and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">        underlying slack client provides.</span>
<span class="sd">        Any extra kwargs you provide, will be passed on directly to the</span>
<span class="sd">        [chat.postMessage](https://api.slack.com/methods/chat.postMessage) request.</span>

<span class="sd">        [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">        [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">        [convenience classes]: https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes</span>

<span class="sd">        Args:</span>
<span class="sd">            text: message text</span>
<span class="sd">            attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">            blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">        Returns:</span>
<span class="sd">            Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.modals.ModalClosure.user" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">user</span><span class="p">:</span> <span class="n">User</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The user that closed the modal</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.user.User (machine.models.User)" href="#machine.models.user.User">User</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the user that closed the modal</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="machine.plugins.modals.ModalClosure.view" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">view</span><span class="p">:</span> <span class="n">View</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>The view that was closed including the state of all the elements in the view when it was closed</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            machine.models.interactive.View" href="#machine.models.interactive.View">View</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the view that was closed</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="machine.plugins.modals.ModalClosure.send_dm" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">send_dm</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Send a DM to the user that closed the modal</p>
<p>Send a Direct Message to the user that closed the modal by opening a DM channel and
sending a message to it.
Allows for rich formatting using <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a> and/or <a href="https://api.slack.com/docs/message-attachments">attachments</a> . You can provide blocks
and attachments as Python dicts or you can use the <a href="https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes">convenience classes</a> that the
underlying slack client provides.
Any extra kwargs you provide, will be passed on directly to the
<a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> request.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>message text</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attachments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.attachments.Attachment">Attachment</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional attachments (see <a href="https://api.slack.com/docs/message-attachments">attachments</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>blocks</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<span title="slack_sdk.models.blocks.Block">Block</span>] | <a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional blocks (see <a href="https://api.slack.com/reference/block-kit/blocks">blocks</a>)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    Dictionary deserialized from <a href="https://api.slack.com/methods/chat.postMessage">chat.postMessage</a> response.</p>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/modals.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">send_dm</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">attachments</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Attachment</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncSlackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a DM to the user that closed the modal</span>

<span class="sd">    Send a Direct Message to the user that closed the modal by opening a DM channel and</span>
<span class="sd">    sending a message to it.</span>
<span class="sd">    Allows for rich formatting using [blocks] and/or [attachments] . You can provide blocks</span>
<span class="sd">    and attachments as Python dicts or you can use the [convenience classes] that the</span>
<span class="sd">    underlying slack client provides.</span>
<span class="sd">    Any extra kwargs you provide, will be passed on directly to the</span>
<span class="sd">    [chat.postMessage](https://api.slack.com/methods/chat.postMessage) request.</span>

<span class="sd">    [attachments]: https://api.slack.com/docs/message-attachments</span>
<span class="sd">    [blocks]: https://api.slack.com/reference/block-kit/blocks</span>
<span class="sd">    [convenience classes]: https://github.com/slackapi/python-slack-sdk/tree/main/slack/web/classes</span>

<span class="sd">    Args:</span>
<span class="sd">        text: message text</span>
<span class="sd">        attachments: optional attachments (see [attachments](https://api.slack.com/docs/message-attachments))</span>
<span class="sd">        blocks: optional blocks (see [blocks](https://api.slack.com/reference/block-kit/blocks))</span>
<span class="sd">    Returns:</span>
<span class="sd">        Dictionary deserialized from [chat.postMessage](https://api.slack.com/methods/chat.postMessage) response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send_dm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">attachments</span><span class="o">=</span><span class="n">attachments</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="decorators">Decorators</h2>
<p>These are the decorators you can use to have Slack Machine respond to
specific things (events, messages, etc.)</p>


<div class="doc doc-object doc-module">



<h3 id="machine.plugins.decorators" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>machine.plugins.decorators</code>


</h3>

    <div class="doc doc-contents first">









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="machine.plugins.decorators.process" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">process</span><span class="p">(</span><span class="n">slack_event_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Process Slack events of a specific type</p>
<p>This decorator will enable a Plugin method to process <a href="https://api.slack.com/events">Slack events</a> of a specific type. The
Plugin method will be called for each event of the specified type that the bot receives.
The received event will be passed to the method when called.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>slack_event_type</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>type of event the method needs to process. Can be any event supported
by the <a href="https://api.slack.com/events?filter=Events">Events API</a></p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]], <span title="machine.plugins.decorators.DecoratedPluginFunc">DecoratedPluginFunc</span>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wrapped method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/decorators.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="n">slack_event_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Process Slack events of a specific type</span>

<span class="sd">    This decorator will enable a Plugin method to process [Slack events] of a specific type. The</span>
<span class="sd">    Plugin method will be called for each event of the specified type that the bot receives.</span>
<span class="sd">    The received event will be passed to the method when called.</span>

<span class="sd">    [Slack events]: https://api.slack.com/events</span>

<span class="sd">    Args:</span>
<span class="sd">        slack_event_type: type of event the method needs to process. Can be any event supported</span>
<span class="sd">            by the [Events API](https://api.slack.com/events?filter=Events)</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapped method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">process_decorator</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]:</span>
        <span class="n">fn</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DecoratedPluginFunc</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">Metadata</span><span class="p">())</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">plugin_actions</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">slack_event_type</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fn</span>

    <span class="k">return</span> <span class="n">process_decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.decorators.listen_to" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">listen_to</span><span class="p">(</span><span class="n">regex</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">flags</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">RegexFlag</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">,</span> <span class="n">handle_message_changed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Listen to messages matching a regex pattern</p>
<p>This decorator will enable a Plugin method to listen to messages that match a regex pattern.
The Plugin method will be called for each message that matches the specified regex pattern.
The received <a class="autorefs autorefs-internal" title="            machine.plugins.message.Message" href="#machine.plugins.message.Message"><code>Message</code></a> will be passed to the method when called.
Named groups can be used in the regex pattern, to catch specific parts of the message. These
groups will be passed to the method as keyword arguments when called.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>regex</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>regex pattern to listen for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flags</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="re.RegexFlag" href="https://docs.python.org/dev/library/re.html#re.RegexFlag">RegexFlag</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>regex flags to apply when matching</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="re.IGNORECASE" href="https://docs.python.org/dev/library/re.html#re.IGNORECASE">IGNORECASE</a></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>handle_message_changed</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if changed messages should trigger the decorated function</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]], <span title="machine.plugins.decorators.DecoratedPluginFunc">DecoratedPluginFunc</span>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wrapped method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/decorators.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">listen_to</span><span class="p">(</span>
    <span class="n">regex</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">flags</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">RegexFlag</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">,</span> <span class="n">handle_message_changed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Listen to messages matching a regex pattern</span>

<span class="sd">    This decorator will enable a Plugin method to listen to messages that match a regex pattern.</span>
<span class="sd">    The Plugin method will be called for each message that matches the specified regex pattern.</span>
<span class="sd">    The received [`Message`][machine.plugins.message.Message] will be passed to the method when called.</span>
<span class="sd">    Named groups can be used in the regex pattern, to catch specific parts of the message. These</span>
<span class="sd">    groups will be passed to the method as keyword arguments when called.</span>

<span class="sd">    Args:</span>
<span class="sd">        regex: regex pattern to listen for</span>
<span class="sd">        flags: regex flags to apply when matching</span>
<span class="sd">        handle_message_changed: if changed messages should trigger the decorated function</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapped method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">listen_to_decorator</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]:</span>
        <span class="n">fn</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DecoratedPluginFunc</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">Metadata</span><span class="p">())</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">plugin_actions</span><span class="o">.</span><span class="n">listen_to</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">MatcherConfig</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">flags</span><span class="p">),</span> <span class="n">handle_message_changed</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">fn</span>

    <span class="k">return</span> <span class="n">listen_to_decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.decorators.respond_to" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">respond_to</span><span class="p">(</span><span class="n">regex</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">flags</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">RegexFlag</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">,</span> <span class="n">handle_message_changed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Listen to messages mentioning the bot and matching a regex pattern</p>
<p>This decorator will enable a Plugin method to listen to messages that are directed to the bot
(ie. message starts by mentioning the bot) and match a regex pattern.
The Plugin method will be called for each message that mentions the bot and matches the
specified regex pattern. The received <a class="autorefs autorefs-internal" title="            machine.plugins.message.Message" href="#machine.plugins.message.Message"><code>Message</code></a> will be passed
to the method when called. Named groups can be used in the regex pattern, to catch specific
parts of the message. These groups will be passed to the method as keyword arguments when
called.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>regex</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>regex pattern to listen for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flags</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="re.RegexFlag" href="https://docs.python.org/dev/library/re.html#re.RegexFlag">RegexFlag</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>regex flags to apply when matching</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="re.IGNORECASE" href="https://docs.python.org/dev/library/re.html#re.IGNORECASE">IGNORECASE</a></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>handle_message_changed</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if changed messages should trigger the decorated function</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]], <span title="machine.plugins.decorators.DecoratedPluginFunc">DecoratedPluginFunc</span>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wrapped method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/decorators.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">respond_to</span><span class="p">(</span>
    <span class="n">regex</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">flags</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">RegexFlag</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">,</span> <span class="n">handle_message_changed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Listen to messages mentioning the bot and matching a regex pattern</span>

<span class="sd">    This decorator will enable a Plugin method to listen to messages that are directed to the bot</span>
<span class="sd">    (ie. message starts by mentioning the bot) and match a regex pattern.</span>
<span class="sd">    The Plugin method will be called for each message that mentions the bot and matches the</span>
<span class="sd">    specified regex pattern. The received [`Message`][machine.plugins.message.Message] will be passed</span>
<span class="sd">    to the method when called. Named groups can be used in the regex pattern, to catch specific</span>
<span class="sd">    parts of the message. These groups will be passed to the method as keyword arguments when</span>
<span class="sd">    called.</span>

<span class="sd">    Args:</span>
<span class="sd">        regex: regex pattern to listen for</span>
<span class="sd">        flags: regex flags to apply when matching</span>
<span class="sd">        handle_message_changed: if changed messages should trigger the decorated function</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapped method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">respond_to_decorator</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]:</span>
        <span class="n">fn</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DecoratedPluginFunc</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">Metadata</span><span class="p">())</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">plugin_actions</span><span class="o">.</span><span class="n">respond_to</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">MatcherConfig</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">flags</span><span class="p">),</span> <span class="n">handle_message_changed</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">fn</span>

    <span class="k">return</span> <span class="n">respond_to_decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.decorators.command" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">command</span><span class="p">(</span><span class="n">slash_command</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Respond to a slash command</p>
<p>This decorator will enable a Plugin method to respond to slash commands</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>slash_command</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the slash command to respond to</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]], <span title="machine.plugins.decorators.DecoratedPluginFunc">DecoratedPluginFunc</span>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wrapped method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/decorators.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="n">slash_command</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Respond to a slash command</span>

<span class="sd">    This decorator will enable a Plugin method to respond to slash commands</span>

<span class="sd">    Args:</span>
<span class="sd">        slash_command: the slash command to respond to</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapped method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">command_decorator</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]:</span>
        <span class="n">fn</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DecoratedPluginFunc</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">Metadata</span><span class="p">())</span>
        <span class="n">normalized_slash_command</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="n">slash_command</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">slash_command</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">slash_command</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">plugin_actions</span><span class="o">.</span><span class="n">commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="n">CommandConfig</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="n">normalized_slash_command</span><span class="p">,</span> <span class="n">is_generator</span><span class="o">=</span><span class="n">inspect</span><span class="o">.</span><span class="n">isasyncgenfunction</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">fn</span>

    <span class="k">return</span> <span class="n">command_decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.decorators.action" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">action</span><span class="p">(</span><span class="n">action_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">block_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Respond to block actions</p>
<p>This decorator will enable a Plugin method to be triggered when certain block actions are
received. The Plugin method will be called when a block action event is received for which
the <code>action_id</code> and <code>block_id</code> match the provided values. <code>action_id</code> and <code>block_id</code> can be strings,
in which case the incoming action_id and block_id must match exactly, or regex patterns, in
which case the incoming action_id and block_id must match the regex pattern.</p>
<p>Both action_id and block_id are optional, but <strong>at least one of them must be provided</strong>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>action_id</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/dev/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="re.Pattern" href="https://docs.python.org/dev/library/re.html#re.Pattern">Pattern</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>], <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the action_id to respond to, can be a string or regex pattern</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>block_id</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/dev/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="re.Pattern" href="https://docs.python.org/dev/library/re.html#re.Pattern">Pattern</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>], <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the block_id to respond to, can be a string or regex pattern</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]], <span title="machine.plugins.decorators.DecoratedPluginFunc">DecoratedPluginFunc</span>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wrapped method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/decorators.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">action</span><span class="p">(</span>
    <span class="n">action_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">block_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Respond to block actions</span>

<span class="sd">    This decorator will enable a Plugin method to be triggered when certain block actions are</span>
<span class="sd">    received. The Plugin method will be called when a block action event is received for which</span>
<span class="sd">    the `action_id` and `block_id` match the provided values. `action_id` and `block_id` can be strings,</span>
<span class="sd">    in which case the incoming action_id and block_id must match exactly, or regex patterns, in</span>
<span class="sd">    which case the incoming action_id and block_id must match the regex pattern.</span>

<span class="sd">    Both action_id and block_id are optional, but **at least one of them must be provided**.</span>

<span class="sd">    Args:</span>
<span class="sd">        action_id: the action_id to respond to, can be a string or regex pattern</span>
<span class="sd">        block_id: the block_id to respond to, can be a string or regex pattern</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapped method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">action_decorator</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]:</span>
        <span class="n">fn</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DecoratedPluginFunc</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">Metadata</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">action_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">block_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;At least one of action_id or block_id must be provided&quot;</span><span class="p">)</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">plugin_actions</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ActionConfig</span><span class="p">(</span><span class="n">action_id</span><span class="o">=</span><span class="n">action_id</span><span class="p">,</span> <span class="n">block_id</span><span class="o">=</span><span class="n">block_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">fn</span>

    <span class="k">return</span> <span class="n">action_decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.decorators.modal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">modal</span><span class="p">(</span><span class="n">callback_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Respond to modal submissions</p>
<p>This decorator will enable a Plugin method to be triggered when certain modals are submitted.
The Plugin method will be called when a modal submission event is received for which the
<code>callback_id</code> matches the provided value. The <code>callback_id</code> can be a string or a regex pattern.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>callback_id</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/dev/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="re.Pattern" href="https://docs.python.org/dev/library/re.html#re.Pattern">Pattern</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>], <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the callback id to respond to, can be a string or regex pattern</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]], <span title="machine.plugins.decorators.DecoratedPluginFunc">DecoratedPluginFunc</span>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wrapped method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/decorators.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">modal</span><span class="p">(</span><span class="n">callback_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Respond to modal submissions</span>

<span class="sd">    This decorator will enable a Plugin method to be triggered when certain modals are submitted.</span>
<span class="sd">    The Plugin method will be called when a modal submission event is received for which the</span>
<span class="sd">    `callback_id` matches the provided value. The `callback_id` can be a string or a regex pattern.</span>

<span class="sd">    Args:</span>
<span class="sd">        callback_id: the callback id to respond to, can be a string or regex pattern</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapped method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">modal_decorator</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]:</span>
        <span class="n">fn</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DecoratedPluginFunc</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">Metadata</span><span class="p">())</span>
        <span class="n">is_generator</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isasyncgenfunction</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">plugin_actions</span><span class="o">.</span><span class="n">modal_submissions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="n">ModalConfig</span><span class="p">(</span><span class="n">callback_id</span><span class="o">=</span><span class="n">callback_id</span><span class="p">,</span> <span class="n">is_generator</span><span class="o">=</span><span class="n">is_generator</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">fn</span>

    <span class="k">return</span> <span class="n">modal_decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.decorators.modal_closed" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">modal_closed</span><span class="p">(</span><span class="n">callback_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Respond to modal closures</p>
<p>This decorator will enable a Plugin method to be triggered when certain modals are closed.
The Plugin method will be called when a modal closure event is received for which the
<code>callback_id</code> matches the provided value. The <code>callback_id</code> can be a string or a regex pattern.</p>


<details class="note" open>
  <summary>Note</summary>
  <p>In order to receive modal close events, the modal must have the <code>notify_on_close</code> property set to <code>True</code>.</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>callback_id</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/dev/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="re.Pattern" href="https://docs.python.org/dev/library/re.html#re.Pattern">Pattern</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>], <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the callback id to respond to, can be a string or regex pattern</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]], <span title="machine.plugins.decorators.DecoratedPluginFunc">DecoratedPluginFunc</span>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wrapped method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/decorators.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">modal_closed</span><span class="p">(</span><span class="n">callback_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Respond to modal closures</span>

<span class="sd">    This decorator will enable a Plugin method to be triggered when certain modals are closed.</span>
<span class="sd">    The Plugin method will be called when a modal closure event is received for which the</span>
<span class="sd">    `callback_id` matches the provided value. The `callback_id` can be a string or a regex pattern.</span>

<span class="sd">    Note:</span>
<span class="sd">        In order to receive modal close events, the modal must have the `notify_on_close` property set to `True`.</span>

<span class="sd">    Args:</span>
<span class="sd">        callback_id: the callback id to respond to, can be a string or regex pattern</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapped method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">modal_closed_decorator</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]:</span>
        <span class="n">fn</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DecoratedPluginFunc</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">Metadata</span><span class="p">())</span>
        <span class="n">is_generator</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isasyncgenfunction</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_generator</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Modal closed handlers cannot be async generators&quot;</span><span class="p">)</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">plugin_actions</span><span class="o">.</span><span class="n">modal_closures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ModalConfig</span><span class="p">(</span><span class="n">callback_id</span><span class="o">=</span><span class="n">callback_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">fn</span>

    <span class="k">return</span> <span class="n">modal_closed_decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.decorators.schedule" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">schedule</span><span class="p">(</span><span class="n">year</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">month</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">day</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">week</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">day_of_week</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">hour</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">minute</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">second</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">start_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">end_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">timezone</span><span class="p">:</span> <span class="n">tzinfo</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Schedule a function to be executed according to a crontab-like schedule</p>
<p>The decorated function will be executed according to the schedule provided. Slack Machine uses
APScheduler under the hood for scheduling. For more information on the interpretation of the
provided parameters, see <a class="autorefs autorefs-external" href="https://apscheduler.readthedocs.io/en/stable/modules/triggers/cron.html#id0"><code>CronTrigger</code></a></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>year</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>4-digit year</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>month</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>month (1-12)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>day</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>day of the (1-31)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>week</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ISO week (1-53)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>day_of_week</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number or name of weekday (0-6 or mon,tue,wed,thu,fri,sat,sun)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>hour</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>hour (0-23)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>minute</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>minute (0-59)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>second</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>second (0-59)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>start_date</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="datetime.datetime" href="https://docs.python.org/dev/library/datetime.html#datetime.datetime">datetime</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>earliest possible date/time to trigger on (inclusive)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>end_date</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="datetime.datetime" href="https://docs.python.org/dev/library/datetime.html#datetime.datetime">datetime</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>latest possible date/time to trigger on (inclusive)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>timezone</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="datetime.tzinfo" href="https://docs.python.org/dev/library/datetime.html#datetime.tzinfo">tzinfo</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>time zone to use for the date/time calculations (defaults to scheduler timezone)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]], <span title="machine.plugins.decorators.DecoratedPluginFunc">DecoratedPluginFunc</span>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wrapped method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/decorators.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">schedule</span><span class="p">(</span>
    <span class="n">year</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">month</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">day</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">week</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">day_of_week</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">hour</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">minute</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">second</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">start_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">end_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">timezone</span><span class="p">:</span> <span class="n">tzinfo</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Schedule a function to be executed according to a crontab-like schedule</span>

<span class="sd">    The decorated function will be executed according to the schedule provided. Slack Machine uses</span>
<span class="sd">    APScheduler under the hood for scheduling. For more information on the interpretation of the</span>
<span class="sd">    provided parameters, see [`CronTrigger`][apscheduler.triggers.cron.CronTrigger]</span>

<span class="sd">    Args:</span>
<span class="sd">        year: 4-digit year</span>
<span class="sd">        month: month (1-12)</span>
<span class="sd">        day: day of the (1-31)</span>
<span class="sd">        week: ISO week (1-53)</span>
<span class="sd">        day_of_week: number or name of weekday (0-6 or mon,tue,wed,thu,fri,sat,sun)</span>
<span class="sd">        hour: hour (0-23)</span>
<span class="sd">        minute: minute (0-59)</span>
<span class="sd">        second: second (0-59)</span>
<span class="sd">        start_date: earliest possible date/time to trigger on (inclusive)</span>
<span class="sd">        end_date: latest possible date/time to trigger on (inclusive)</span>
<span class="sd">        timezone: time zone to use for the date/time calculations (defaults to scheduler timezone)</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapped method</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span> <span class="o">=</span> <span class="nb">locals</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">schedule_decorator</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]:</span>
        <span class="n">fn</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DecoratedPluginFunc</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">Metadata</span><span class="p">())</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">plugin_actions</span><span class="o">.</span><span class="n">schedule</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="k">return</span> <span class="n">fn</span>

    <span class="k">return</span> <span class="n">schedule_decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.decorators.on" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">on</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Listen for an event</p>
<p>The decorated function will be called whenever a plugin (or Slack Machine itself) emits an
event with the given name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>event</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the event to listen for. Event names are global</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]], <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wrapped method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/decorators.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Listen for an event</span>

<span class="sd">    The decorated function will be called whenever a plugin (or Slack Machine itself) emits an</span>
<span class="sd">    event with the given name.</span>

<span class="sd">    Args:</span>
<span class="sd">        event: name of the event to listen for. Event names are global</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapped method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">on_decorator</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]:</span>
        <span class="n">ee</span><span class="o">.</span><span class="n">add_listener</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">f</span>

    <span class="k">return</span> <span class="n">on_decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.decorators.required_settings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">required_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Specify a required setting for a plugin or plugin method</p>
<p>The settings specified with this decorator will be added to the required settings for the
plugin. If one or more settings have not been defined by the user, the plugin will not be
loaded and a warning will be written to the console upon startup.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>] | <a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>settings that are required (can be list of strings, or single string)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]], <span title="machine.plugins.decorators.DecoratedPluginFunc">DecoratedPluginFunc</span>[<span title="machine.plugins.decorators.P">P</span>, <span title="machine.plugins.decorators.R">R</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wrapped method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/decorators.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">required_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Specify a required setting for a plugin or plugin method</span>

<span class="sd">    The settings specified with this decorator will be added to the required settings for the</span>
<span class="sd">    plugin. If one or more settings have not been defined by the user, the plugin will not be</span>
<span class="sd">    loaded and a warning will be written to the console upon startup.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings: settings that are required (can be list of strings, or single string)</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapped method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">required_settings_decorator</span><span class="p">(</span><span class="n">f_or_cls</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DecoratedPluginFunc</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]:</span>
        <span class="n">casted_f_or_cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DecoratedPluginFunc</span><span class="p">,</span> <span class="n">f_or_cls</span><span class="p">)</span>
        <span class="n">casted_f_or_cls</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">f_or_cls</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">Metadata</span><span class="p">())</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">casted_f_or_cls</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">required_settings</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">casted_f_or_cls</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">required_settings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">casted_f_or_cls</span>

    <span class="k">return</span> <span class="n">required_settings_decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.decorators.require_any_role" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">require_any_role</span><span class="p">(</span><span class="n">required_roles</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Awaitable</span><span class="p">[</span><span class="kc">None</span><span class="p">]]],</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Awaitable</span><span class="p">[</span><span class="kc">None</span><span class="p">]]]</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Specify required roles for a plugin method</p>
<p>To use the plugin method where this decorator is applied, the user must have
at least one of the listed roles.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>required_roles</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of roles required to use the plugin method</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[..., <a class="autorefs autorefs-external" title="collections.abc.Awaitable" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Awaitable">Awaitable</a>[None]]], <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[..., <a class="autorefs autorefs-external" title="collections.abc.Awaitable" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Awaitable">Awaitable</a>[None]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wrapped method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/decorators.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">require_any_role</span><span class="p">(</span>
    <span class="n">required_roles</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Awaitable</span><span class="p">[</span><span class="kc">None</span><span class="p">]]],</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Awaitable</span><span class="p">[</span><span class="kc">None</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Specify required roles for a plugin method</span>

<span class="sd">    To use the plugin method where this decorator is applied, the user must have</span>
<span class="sd">    at least one of the listed roles.</span>

<span class="sd">    Args:</span>
<span class="sd">        required_roles: list of roles required to use the plugin method</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapped method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">middle</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Awaitable</span><span class="p">[</span><span class="kc">None</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Awaitable</span><span class="p">[</span><span class="kc">None</span><span class="p">]]:</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">MachineBasePlugin</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="k">await</span> <span class="n">matching_roles_by_user_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">required_roles</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User </span><span class="si">{</span><span class="n">msg</span><span class="o">.</span><span class="n">sender</span><span class="si">}</span><span class="s2"> has one of the required roles </span><span class="si">{</span><span class="n">required_roles</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="k">await</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User </span><span class="si">{</span><span class="n">msg</span><span class="o">.</span><span class="n">sender</span><span class="si">}</span><span class="s2"> does not have any of the required roles </span><span class="si">{</span><span class="n">required_roles</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">ee</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span>
                    <span class="s2">&quot;unauthorized-access&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="p">,</span>
                    <span class="n">message</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span>
                    <span class="n">required_roles</span><span class="o">=</span><span class="n">required_roles</span><span class="p">,</span>
                    <span class="n">combinator</span><span class="o">=</span><span class="n">RoleCombinator</span><span class="o">.</span><span class="n">ANY</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">await</span> <span class="n">msg</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;I&#39;m sorry, but you don&#39;t have access to that command&quot;</span><span class="p">,</span> <span class="n">ephemeral</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>

        <span class="c1"># Copy any existing docs and metadata from container function to</span>
        <span class="c1"># generated function</span>
        <span class="n">wrapper</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="vm">__doc__</span>
        <span class="n">casted_wrapper</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DecoratedPluginFunc</span><span class="p">,</span> <span class="n">wrapper</span><span class="p">)</span>
        <span class="n">casted_wrapper</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">Metadata</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">casted_wrapper</span>

    <span class="k">return</span> <span class="n">middle</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.plugins.decorators.require_all_roles" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">require_all_roles</span><span class="p">(</span><span class="n">required_roles</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Awaitable</span><span class="p">[</span><span class="kc">None</span><span class="p">]]],</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Awaitable</span><span class="p">[</span><span class="kc">None</span><span class="p">]]]</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Specify required roles for a plugin method</p>
<p>To use the plugin method where this decorator is applied, the user must have
all of the listed roles.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>required_roles</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of roles required to use the plugin method</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[..., <a class="autorefs autorefs-external" title="collections.abc.Awaitable" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Awaitable">Awaitable</a>[None]]], <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/dev/library/typing.html#typing.Callable">Callable</a>[..., <a class="autorefs autorefs-external" title="collections.abc.Awaitable" href="https://docs.python.org/dev/library/collections.abc.html#collections.abc.Awaitable">Awaitable</a>[None]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wrapped method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/plugins/decorators.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">require_all_roles</span><span class="p">(</span>
    <span class="n">required_roles</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Awaitable</span><span class="p">[</span><span class="kc">None</span><span class="p">]]],</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Awaitable</span><span class="p">[</span><span class="kc">None</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Specify required roles for a plugin method</span>

<span class="sd">    To use the plugin method where this decorator is applied, the user must have</span>
<span class="sd">    all of the listed roles.</span>

<span class="sd">    Args:</span>
<span class="sd">        required_roles: list of roles required to use the plugin method</span>

<span class="sd">    Returns:</span>
<span class="sd">        wrapped method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">middle</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Awaitable</span><span class="p">[</span><span class="kc">None</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Awaitable</span><span class="p">[</span><span class="kc">None</span><span class="p">]]:</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">MachineBasePlugin</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="k">await</span> <span class="n">matching_roles_by_user_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">required_roles</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">required_roles</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User </span><span class="si">{</span><span class="n">msg</span><span class="o">.</span><span class="n">sender</span><span class="si">}</span><span class="s2"> has all of the required roles </span><span class="si">{</span><span class="n">required_roles</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="k">await</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User </span><span class="si">{</span><span class="n">msg</span><span class="o">.</span><span class="n">sender</span><span class="si">}</span><span class="s2"> does not have all of the required roles </span><span class="si">{</span><span class="n">required_roles</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">ee</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span>
                    <span class="s2">&quot;unauthorized-access&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="p">,</span>
                    <span class="n">message</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span>
                    <span class="n">required_roles</span><span class="o">=</span><span class="n">required_roles</span><span class="p">,</span>
                    <span class="n">combinator</span><span class="o">=</span><span class="n">RoleCombinator</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">await</span> <span class="n">msg</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;I&#39;m sorry, but you don&#39;t have access to that command&quot;</span><span class="p">,</span> <span class="n">ephemeral</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>

        <span class="c1"># Copy any existing docs and metadata from container function to</span>
        <span class="c1"># generated function</span>
        <span class="n">wrapper</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="vm">__doc__</span>
        <span class="n">casted_wrapper</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DecoratedPluginFunc</span><span class="p">,</span> <span class="n">wrapper</span><span class="p">)</span>
        <span class="n">casted_wrapper</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">Metadata</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">casted_wrapper</span>

    <span class="k">return</span> <span class="n">middle</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="models">Models</h2>
<p>These classes represent base objects from the Slack API</p>


<div class="doc doc-object doc-class">



<h3 id="machine.models.user.User" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.models.user.User</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>User model that represents a user object from the Slack API</p>







              <details class="quote">
                <summary>Source code in <code>src/machine/models/user.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;User model that represents a user object from the Slack API&quot;&quot;&quot;</span>

    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">team_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">deleted</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">profile</span><span class="p">:</span> <span class="n">Profile</span>
    <span class="n">is_bot</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">updated</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">is_app_user</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">real_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tz</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tz_label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tz_offset</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_admin</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_owner</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_primary_owner</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_restricted</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_ultra_restricted</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_stranger</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">has_2fa</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">locale</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">fmt_mention</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Format the user as a mention&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;@</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&gt;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="machine.models.user.User.fmt_mention" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">fmt_mention</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Format the user as a mention</p>


            <details class="quote">
              <summary>Source code in <code>src/machine/models/user.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">fmt_mention</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Format the user as a mention&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;@</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&gt;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="machine.models.channel.Channel" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.models.channel.Channel</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Channel model that represents a channel object from the Slack API</p>







              <details class="quote">
                <summary>Source code in <code>src/machine/models/channel.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Channel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Channel model that represents a channel object from the Slack API&quot;&quot;&quot;</span>

    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">created</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">creator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_archived</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">is_general</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">name_normalized</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_shared</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_org_shared</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">is_member</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_private</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_mpim</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_channel</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_im</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">topic</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PurposeTopic</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">purpose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PurposeTopic</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">previous_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the name of the channel if it exists, otherwise return the id&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="machine.models.channel.Channel.identifier" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">identifier</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Return the name of the channel if it exists, otherwise return the id</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="machine.models.interactive.BlockActionsPayload" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.models.interactive.BlockActionsPayload</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="machine.models.interactive.TypedModel">TypedModel</span></code></p>








              <details class="quote">
                <summary>Source code in <code>src/machine/models/interactive.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BlockActionsPayload</span><span class="p">(</span><span class="n">TypedModel</span><span class="p">):</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;block_actions&quot;</span><span class="p">]</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">User</span>
    <span class="n">api_app_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">token</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">container</span><span class="p">:</span> <span class="n">Container</span>
    <span class="n">trigger_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">team</span><span class="p">:</span> <span class="n">Team</span>
    <span class="n">enterprise</span><span class="p">:</span> <span class="n">Enterprise</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">is_enterprise_install</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">channel</span><span class="p">:</span> <span class="n">Channel</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">message</span><span class="p">:</span> <span class="n">Message</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">view</span><span class="p">:</span> <span class="n">View</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">state</span><span class="p">:</span> <span class="n">State</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">response_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">actions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Action</span><span class="p">]</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_view_or_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BlockActionsPayload</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either view or message must be present!&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;channel must be present when message is present!&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;state must be present when message is present!&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">response_url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;response_url must be present when message is present!&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="machine.models.interactive.Action" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">machine</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">interactive</span><span class="o">.</span><span class="n">Action</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">RadioButtonsAction</span><span class="p">,</span> <span class="n">ButtonAction</span><span class="p">,</span> <span class="n">CheckboxAction</span><span class="p">,</span> <span class="n">DatepickerAction</span><span class="p">,</span> <span class="n">StaticSelectAction</span><span class="p">,</span> <span class="n">ChannelSelectAction</span><span class="p">,</span> <span class="n">ConversationSelectAction</span><span class="p">,</span> <span class="n">UserSelectAction</span><span class="p">,</span> <span class="n">ExternalSelectAction</span><span class="p">,</span> <span class="n">MultiStaticSelectAction</span><span class="p">,</span> <span class="n">MultiChannelSelectAction</span><span class="p">,</span> <span class="n">MultiConversationSelectAction</span><span class="p">,</span> <span class="n">MultiUserSelectAction</span><span class="p">,</span> <span class="n">MultiExternalSelectAction</span><span class="p">,</span> <span class="n">TimepickerAction</span><span class="p">,</span> <span class="n">UrlAction</span><span class="p">,</span> <span class="n">OverflowAction</span><span class="p">,</span> <span class="n">PlainTextInputAction</span><span class="p">,</span> <span class="n">RichTextInputAction</span><span class="p">],</span> <span class="n">Field</span><span class="p">(</span><span class="n">discriminator</span><span class="o">=</span><span class="s1">&#39;type&#39;</span><span class="p">)]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="machine.models.interactive.ViewSubmissionPayload" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.models.interactive.ViewSubmissionPayload</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="machine.models.interactive.TypedModel">TypedModel</span></code></p>








              <details class="quote">
                <summary>Source code in <code>src/machine/models/interactive.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ViewSubmissionPayload</span><span class="p">(</span><span class="n">TypedModel</span><span class="p">):</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;view_submission&quot;</span><span class="p">]</span>
    <span class="n">team</span><span class="p">:</span> <span class="n">Team</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">User</span>
    <span class="n">view</span><span class="p">:</span> <span class="n">View</span>
    <span class="n">enterprise</span><span class="p">:</span> <span class="n">Enterprise</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">api_app_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">token</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">trigger_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">response_urls</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ResponseUrlForView</span><span class="p">]</span>
    <span class="n">is_enterprise_install</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="machine.models.interactive.View" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.models.interactive.View</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>








              <details class="quote">
                <summary>Source code in <code>src/machine/models/interactive.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">View</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;modal&quot;</span><span class="p">,</span> <span class="s2">&quot;home&quot;</span><span class="p">]</span>
    <span class="n">blocks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span>
    <span class="n">private_metadata</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">callback_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">state</span><span class="p">:</span> <span class="n">State</span>
    <span class="nb">hash</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">title</span><span class="p">:</span> <span class="n">Text</span>
    <span class="n">clear_on_close</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">notify_on_close</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">close</span><span class="p">:</span> <span class="n">Text</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">submit</span><span class="p">:</span> <span class="n">Text</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">previous_view_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">root_view_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">app_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">external_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">app_installed_team_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">bot_id</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="machine.models.interactive.State" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.models.interactive.State</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>








              <details class="quote">
                <summary>Source code in <code>src/machine/models/interactive.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">207</span>
<span class="normal">208</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">State</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">values</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Values</span><span class="p">]]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div><h2 id="storage">Storage</h2>
<p>Storage is exposed to plugins through the <code>self.storage</code> field. The following class implements the interface plugins
can use to interact with the storage backend.</p>


<div class="doc doc-object doc-class">



<h3 id="machine.storage.PluginStorage" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.storage.PluginStorage</code>


</h3>


    <div class="doc doc-contents first">


        <p>Class providing access to persistent storage for plugins</p>
<p>This class is the main access point for plugins to work with persistent storage. It is
accessible from plugins using <code>self.storage</code>. Data is serialized before sending it to
the storage backend, and deserialized upon retrieval. Serialization is done by <a href="https://pypi.python.org/pypi/dill">dill</a>, so
pretty much any Python object can be stored and retrieved.</p>







              <details class="quote">
                <summary>Source code in <code>src/machine/storage/__init__.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PluginStorage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class providing access to persistent storage for plugins</span>

<span class="sd">    This class is the main access point for plugins to work with persistent storage. It is</span>
<span class="sd">    accessible from plugins using `self.storage`. Data is serialized before sending it to</span>
<span class="sd">    the storage backend, and deserialized upon retrieval. Serialization is done by [dill], so</span>
<span class="sd">    pretty much any Python object can be stored and retrieved.</span>

<span class="sd">    [dill]: https://pypi.python.org/pypi/dill</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fq_plugin_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">storage_backend</span><span class="p">:</span> <span class="n">MachineBaseStorage</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fq_plugin_name</span> <span class="o">=</span> <span class="n">fq_plugin_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span> <span class="o">=</span> <span class="n">storage_backend</span>

    <span class="k">def</span> <span class="nf">_gen_unique_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_fq_plugin_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">_namespace_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">key</span> <span class="k">if</span> <span class="n">shared</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gen_unique_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">expires</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">timedelta</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Store or update a value by key</span>

<span class="sd">        Args:</span>
<span class="sd">            key: the key under which to store the data</span>
<span class="sd">            value: the data to store</span>
<span class="sd">            expires: optional number of seconds after which the data is expired</span>
<span class="sd">            shared: `True/False` wether this data should be shared by other plugins. Use with care, because it</span>
<span class="sd">                pollutes the global namespace of the storage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">expires</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">())</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expires</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">)</span> <span class="k">else</span> <span class="n">expires</span>
        <span class="n">namespaced_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_namespace_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">shared</span><span class="p">)</span>
        <span class="n">pickled_value</span> <span class="o">=</span> <span class="n">dill</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">namespaced_key</span><span class="p">,</span> <span class="n">pickled_value</span><span class="p">,</span> <span class="n">expires</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve data by key</span>

<span class="sd">        Args:</span>
<span class="sd">            key: key for the data to retrieve</span>
<span class="sd">            shared: `True/False` wether to retrieve data from the shared (global) namespace.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the data, or `None` if the key cannot be found/has expired</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">namespaced_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_namespace_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">shared</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">namespaced_key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">dill</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">has</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the key exists in storage</span>

<span class="sd">        Note:</span>
<span class="sd">            this class implements `__contains__` so instead of calling</span>
<span class="sd">            `self.storage.has(...)`, you can also use: `key in self.storage`. This will check the</span>
<span class="sd">            _namespaced_ version of the key, so it&#39;s the same as: `self.storage.has(&#39;key&#39;, shared=False)`</span>

<span class="sd">        Args:</span>
<span class="sd">            key: key to check</span>
<span class="sd">            shared: `True/False` wether to check in the shared (global) namespace</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True/False` wether the key exists. Can only return `True` if the key has not</span>
<span class="sd">                expired.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">namespaced_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_namespace_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">shared</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">namespaced_key</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove a key and its data from storage</span>

<span class="sd">        Args:</span>
<span class="sd">            key: key to remove</span>
<span class="sd">            shared: `True/False` wether the key to remove should be in the shared (global)</span>
<span class="sd">                namespace</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">namespaced_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_namespace_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">shared</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">namespaced_key</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_storage_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the total size of the storage</span>

<span class="sd">        Returns:</span>
<span class="sd">            the total size of the storage in bytes (integer)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_storage_size_human</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the total size of the storage in human readable format</span>

<span class="sd">        Returns:</span>
<span class="sd">            the total size of the storage in a human readable string, rounded to the nearest</span>
<span class="sd">                applicable division. eg. B for Bytes, KiB for Kilobytes, MiB for Megabytes etc.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">size</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_storage_size</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">sizeof_fmt</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="machine.storage.PluginStorage.set" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="nb">set</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">expires</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">timedelta</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Store or update a value by key</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the key under which to store the data</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the data to store</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>expires</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a> | <a class="autorefs autorefs-external" title="datetime.timedelta" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta">timedelta</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional number of seconds after which the data is expired</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>shared</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> wether this data should be shared by other plugins. Use with care, because it
pollutes the global namespace of the storage.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">expires</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">timedelta</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Store or update a value by key</span>

<span class="sd">    Args:</span>
<span class="sd">        key: the key under which to store the data</span>
<span class="sd">        value: the data to store</span>
<span class="sd">        expires: optional number of seconds after which the data is expired</span>
<span class="sd">        shared: `True/False` wether this data should be shared by other plugins. Use with care, because it</span>
<span class="sd">            pollutes the global namespace of the storage.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">expires</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">())</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expires</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">)</span> <span class="k">else</span> <span class="n">expires</span>
    <span class="n">namespaced_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_namespace_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">shared</span><span class="p">)</span>
    <span class="n">pickled_value</span> <span class="o">=</span> <span class="n">dill</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">namespaced_key</span><span class="p">,</span> <span class="n">pickled_value</span><span class="p">,</span> <span class="n">expires</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.storage.PluginStorage.get" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Retrieve data by key</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>key for the data to retrieve</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>shared</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> wether to retrieve data from the shared (global) namespace.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/dev/library/typing.html#typing.Any">Any</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the data, or <code>None</code> if the key cannot be found/has expired</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve data by key</span>

<span class="sd">    Args:</span>
<span class="sd">        key: key for the data to retrieve</span>
<span class="sd">        shared: `True/False` wether to retrieve data from the shared (global) namespace.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the data, or `None` if the key cannot be found/has expired</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">namespaced_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_namespace_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">shared</span><span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">namespaced_key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">dill</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.storage.PluginStorage.has" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">has</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Check if the key exists in storage</p>


<details class="note" open>
  <summary>Note</summary>
  <p>this class implements <code>__contains__</code> so instead of calling
<code>self.storage.has(...)</code>, you can also use: <code>key in self.storage</code>. This will check the
<em>namespaced</em> version of the key, so it's the same as: <code>self.storage.has('key', shared=False)</code></p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>key to check</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>shared</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> wether to check in the shared (global) namespace</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> wether the key exists. Can only return <code>True</code> if the key has not
expired.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">has</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the key exists in storage</span>

<span class="sd">    Note:</span>
<span class="sd">        this class implements `__contains__` so instead of calling</span>
<span class="sd">        `self.storage.has(...)`, you can also use: `key in self.storage`. This will check the</span>
<span class="sd">        _namespaced_ version of the key, so it&#39;s the same as: `self.storage.has(&#39;key&#39;, shared=False)`</span>

<span class="sd">    Args:</span>
<span class="sd">        key: key to check</span>
<span class="sd">        shared: `True/False` wether to check in the shared (global) namespace</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True/False` wether the key exists. Can only return `True` if the key has not</span>
<span class="sd">            expired.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">namespaced_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_namespace_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">shared</span><span class="p">)</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">namespaced_key</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.storage.PluginStorage.delete" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">delete</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Remove a key and its data from storage</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>key to remove</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>shared</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> wether the key to remove should be in the shared (global)
namespace</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove a key and its data from storage</span>

<span class="sd">    Args:</span>
<span class="sd">        key: key to remove</span>
<span class="sd">        shared: `True/False` wether the key to remove should be in the shared (global)</span>
<span class="sd">            namespace</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">namespaced_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_namespace_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">shared</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">namespaced_key</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.storage.PluginStorage.get_storage_size" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_storage_size</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Calculate the total size of the storage</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the total size of the storage in bytes (integer)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_storage_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the total size of the storage</span>

<span class="sd">    Returns:</span>
<span class="sd">        the total size of the storage in bytes (integer)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.storage.PluginStorage.get_storage_size_human" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_storage_size_human</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Calculate the total size of the storage in human readable format</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the total size of the storage in a human readable string, rounded to the nearest
applicable division. eg. B for Bytes, KiB for Kilobytes, MiB for Megabytes etc.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_storage_size_human</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the total size of the storage in human readable format</span>

<span class="sd">    Returns:</span>
<span class="sd">        the total size of the storage in a human readable string, rounded to the nearest</span>
<span class="sd">            applicable division. eg. B for Bytes, KiB for Kilobytes, MiB for Megabytes etc.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_storage_size</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">sizeof_fmt</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />
<p>New <em>Storage Backends</em> can be implemented by extending the following
class:</p>


<div class="doc doc-object doc-class">



<h3 id="machine.storage.backends.base.MachineBaseStorage" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>machine.storage.backends.base.MachineBaseStorage</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" title="abc.ABC" href="https://docs.python.org/dev/library/abc.html#abc.ABC">ABC</a></code></p>


        <p>Base class for storage backends</p>
<p>Extending classes should implement the five methods in this base class. Slack Machine takes
care of a lot of details regarding the persistent storage of data. So storage backends
<strong>do not</strong> have to deal with the following, because Slack Machine takes care of these:</p>
<ul>
<li>Serialization/Deserialization of data</li>
<li>Namespacing of keys (so data stored by different plugins doesn't clash)</li>
</ul>







              <details class="quote">
                <summary>Source code in <code>src/machine/storage/backends/base.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MachineBaseStorage</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for storage backends</span>

<span class="sd">    Extending classes should implement the five methods in this base class. Slack Machine takes</span>
<span class="sd">    care of a lot of details regarding the persistent storage of data. So storage backends</span>
<span class="sd">    **do not** have to deal with the following, because Slack Machine takes care of these:</span>

<span class="sd">    - Serialization/Deserialization of data</span>
<span class="sd">    - Namespacing of keys (so data stored by different plugins doesn&#39;t clash)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">settings</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings</span> <span class="o">=</span> <span class="n">settings</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa: B027 (no-op by design)</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the storage backend</span>

<span class="sd">        To be implemented by subclasses if initialization is required. This method is called once after instantiation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve data by key</span>

<span class="sd">        Args:</span>
<span class="sd">            key: key for which to retrieve data</span>

<span class="sd">        Returns:</span>
<span class="sd">            the raw data for the provided key, as (byte)string. Should return `None` when</span>
<span class="sd">                the key is unknown or the data has expired.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">expires</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Store data by key</span>

<span class="sd">        Args:</span>
<span class="sd">            key: the key under which to store the data</span>
<span class="sd">            value: data as (byte)string</span>
<span class="sd">            expires: optional expiration time in seconds, after which the data should not be</span>
<span class="sd">                returned any more.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete data by key</span>

<span class="sd">        :param key: key for which to delete the data</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">has</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the key exists</span>

<span class="sd">        Args:</span>
<span class="sd">            key: key to check</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True/False` wether the key exists</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the total size of the storage</span>

<span class="sd">        Returns:</span>
<span class="sd">            total size of storage in bytes (integer)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the storage backend&quot;&quot;&quot;</span>
        <span class="o">...</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="machine.storage.backends.base.MachineBaseStorage.init" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">init</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Initialize the storage backend</p>
<p>To be implemented by subclasses if initialization is required. This method is called once after instantiation.</p>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/backends/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa: B027 (no-op by design)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the storage backend</span>

<span class="sd">    To be implemented by subclasses if initialization is required. This method is called once after instantiation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.storage.backends.base.MachineBaseStorage.get" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Retrieve data by key</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>key for which to retrieve data</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#bytes">bytes</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the raw data for the provided key, as (byte)string. Should return <code>None</code> when
the key is unknown or the data has expired.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/backends/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve data by key</span>

<span class="sd">    Args:</span>
<span class="sd">        key: key for which to retrieve data</span>

<span class="sd">    Returns:</span>
<span class="sd">        the raw data for the provided key, as (byte)string. Should return `None` when</span>
<span class="sd">            the key is unknown or the data has expired.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.storage.backends.base.MachineBaseStorage.set" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="nb">set</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">expires</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Store data by key</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the key under which to store the data</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#bytes">bytes</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>data as (byte)string</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>expires</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional expiration time in seconds, after which the data should not be
returned any more.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/backends/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">expires</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Store data by key</span>

<span class="sd">    Args:</span>
<span class="sd">        key: the key under which to store the data</span>
<span class="sd">        value: data as (byte)string</span>
<span class="sd">        expires: optional expiration time in seconds, after which the data should not be</span>
<span class="sd">            returned any more.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.storage.backends.base.MachineBaseStorage.delete" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">delete</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Delete data by key</p>
<p>:param key: key for which to delete the data</p>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/backends/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete data by key</span>

<span class="sd">    :param key: key for which to delete the data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.storage.backends.base.MachineBaseStorage.has" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">has</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Check if the key exists</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>key to check</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True/False</code> wether the key exists</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/backends/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">has</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the key exists</span>

<span class="sd">    Args:</span>
<span class="sd">        key: key to check</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True/False` wether the key exists</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.storage.backends.base.MachineBaseStorage.size" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">size</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Calculate the total size of the storage</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/dev/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>total size of storage in bytes (integer)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/backends/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the total size of the storage</span>

<span class="sd">    Returns:</span>
<span class="sd">        total size of storage in bytes (integer)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="machine.storage.backends.base.MachineBaseStorage.close" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">close</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Close the storage backend</p>


            <details class="quote">
              <summary>Source code in <code>src/machine/storage/backends/base.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Close the storage backend&quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.instant", "navigation.tracking", "navigation.indexes"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>